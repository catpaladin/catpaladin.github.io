<!doctype html><html lang=en-us><head><title>Building Beautiful CLIs with Huh // It's Go time!</title>
<link rel="shortcut icon" href=/favicon.ico><meta charset=utf-8><meta name=generator content="Hugo 0.143.1"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Mike Sahari"><meta name=description content><link rel=stylesheet href=/css/main.min.426227a64976b038e30bc990bed663448db0c7819318f82711ab767671f9f58d.css><meta name=twitter:card content="summary"><meta name=twitter:title content="Building Beautiful CLIs with Huh"><meta name=twitter:description content="Hey there, fellow Go enthusiasts! Today, I’m going to share something that completely changed my CLI development game. Buckle up – we’re diving deep into making CLIs that users will actually enjoy using!
The CLI Development Evolution You know how we all instinctively reach for cobra when building command-line tools in Go? Well, here is the perfect companion that’s transformed how I think about CLI interactions: huh by Charmbracelet.
Here’s the thing that got me excited: While cobra handles all the heavy lifting of command structure and flags (and does it beautifully, I might add), huh brings something entirely different to the table. It’s all about creating those smooth, interactive forms and prompts that make your CLIs feel professional and polished. Think of it as the difference between a bare-bones terminal app and something that feels like it belongs in 2025."><meta property="og:url" content="https://catpaladin.github.io/posts/clis-and-huh/"><meta property="og:site_name" content="It's Go time!"><meta property="og:title" content="Building Beautiful CLIs with Huh"><meta property="og:description" content="Hey there, fellow Go enthusiasts! Today, I’m going to share something that completely changed my CLI development game. Buckle up – we’re diving deep into making CLIs that users will actually enjoy using!
The CLI Development Evolution You know how we all instinctively reach for cobra when building command-line tools in Go? Well, here is the perfect companion that’s transformed how I think about CLI interactions: huh by Charmbracelet.
Here’s the thing that got me excited: While cobra handles all the heavy lifting of command structure and flags (and does it beautifully, I might add), huh brings something entirely different to the table. It’s all about creating those smooth, interactive forms and prompts that make your CLIs feel professional and polished. Think of it as the difference between a bare-bones terminal app and something that feels like it belongs in 2025."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-02-08T08:15:00-08:00"><meta property="article:modified_time" content="2025-02-08T08:15:00-08:00"><meta property="article:tag" content="Go"><meta property="article:tag" content="Commandline"></head><body><header class=app-header><a href=/><img class=app-header-avatar src=/images/avatar.jpg alt="Mike Sahari"></a>
<span class=app-header-title>It's Go time!</span><nav class=app-header-menu><a class=app-header-menu-item href=/>Home</a>
-
<a class=app-header-menu-item href=/tags/>Tags</a>
-
<a class=app-header-menu-item href=/about/>About</a></nav><p>A tech blog for Go, Neovim, and all the other things I find interesting.</p><div class=app-header-social><a href=https://github.com/catpaladin target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-github" viewBox="0 0 24 24" fill="currentcolor"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
</a><a href=https://mastodon.social/@ineedmorecoffee target=_blank rel="noreferrer noopener me"><svg class="icon icon-brand-mastodon" viewBox="0 0 24 24" fill="currentcolor"><title>Mastodon</title><path d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792.0 11.813.0h-.03c-3.98.0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057.0 00.023-.043v-1.809a.052.052.0 00-.02-.041.053.053.0 00-.046-.01 20.282 20.282.0 01-4.709.545c-2.73.0-3.463-1.284-3.674-1.818a5.593 5.593.0 01-.319-1.433.053.053.0 01.066-.054c1.517.363 3.072.546 4.632.546.376.0.75.0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23.0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112.0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311.0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13.0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z"/></svg></a></div></header><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Building Beautiful CLIs with Huh</h1><div class=post-meta><div><svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Feb 8, 2025</div><div><svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
6 min read</div><div><svg class="icon icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a class=tag href=/tags/go/>Go</a>
<a class=tag href=/tags/commandline/>Commandline</a></div></div></header><div class=post-content><p><em>Hey there, fellow Go enthusiasts! Today, I&rsquo;m going to share something that completely changed my CLI development game. Buckle up – we&rsquo;re diving deep into making CLIs that users will actually enjoy using!</em></p><h2 id=the-cli-development-evolution>The CLI Development Evolution</h2><p>You know how we all instinctively reach for <a href=https://github.com/spf13/cobra>cobra</a> when building command-line tools in Go? Well, here is the perfect companion that&rsquo;s transformed how I think about CLI interactions: <a href=https://github.com/charmbracelet/huh>huh</a> by Charmbracelet.</p><p><img src=/images/huh-cat.gif alt=huh title=huh></p><p><em>Here&rsquo;s the thing that got me excited:</em> While <code>cobra</code> handles all the heavy lifting of command structure and flags (and does it beautifully, I might add), <code>huh</code> brings something entirely different to the table. It&rsquo;s all about creating those smooth, interactive forms and prompts that make your CLIs feel professional and polished. Think of it as the difference between a bare-bones terminal app and something that feels like it belongs in 2025.</p><h2 id=getting-started-with-huh>Getting Started with huh</h2><p>First things first, let&rsquo;s get the package:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>go</span> <span style=color:#a6e22e>get</span> <span style=color:#a6e22e>github</span>.<span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>charmbracelet</span><span style=color:#f92672>/</span><span style=color:#a6e22e>huh</span>
</span></span></code></pre></div><p><em>This is where the magic starts.</em> Here&rsquo;s the simplest way to get going with a basic input prompt:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>var</span> <span style=color:#a6e22e>name</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewInput</span>().
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Title</span>(<span style=color:#e6db74>&#34;What&#39;s your name?&#34;</span>).
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>name</span>).
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Run</span>() <span style=color:#75715e>// Watch out - this is blocking!</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Hey, %s!\n&#34;</span>, <span style=color:#a6e22e>name</span>)
</span></span></code></pre></div><p>If you&rsquo;re already using <code>cobra</code>&rsquo;s <code>StringVarP</code> for flags, you can create this sweet fallback system. When a flag isn&rsquo;t provided, your CLI smoothly transitions to an interactive prompt. It&rsquo;s like having the best of both worlds!</p><h2 id=the-real-mvp-select-prompts>The Real MVP: Select Prompts</h2><p><em>Okay, this is where things get really interesting.</em> Remember struggling with <a href=https://github.com/manifoldco/promptui>promptui</a> for selection menus? (I sure do, and let me tell you, it wasn&rsquo;t pretty.) Check this out:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewSelect</span>[<span style=color:#66d9ef>string</span>]().
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Title</span>(<span style=color:#e6db74>&#34;Pick a country.&#34;</span>).
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Options</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;United States&#34;</span>, <span style=color:#e6db74>&#34;US&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;Germany&#34;</span>, <span style=color:#e6db74>&#34;DE&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;Brazil&#34;</span>, <span style=color:#e6db74>&#34;BR&#34;</span>),
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;Canada&#34;</span>, <span style=color:#e6db74>&#34;CA&#34;</span>),
</span></span><span style=display:flex><span>    ).
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>country</span>)
</span></span></code></pre></div><p>Not only is it clean and intuitive, but it comes with built-in navigation, filtering, and selection handling. No more wrestling with keyboard events and terminal codes!</p><h2 id=real-world-implementation-net-tools-deep-dive>Real-World Implementation: <code>net-tools</code> Deep Dive</h2><p>Let me walk you through a real-world project where I put all this into practice. I built this network troubleshooting toolkit called <a href=https://github.com/catpaladin/net-tools>net-tools</a> that combines everything we&rsquo;ve talked about. It&rsquo;s my Swiss Army knife for network diagnostics, built with Go.</p><h3 id=the-dig-command-simple-but-powerful>The Dig Command: Simple but Powerful</h3><p><em>Here&rsquo;s where validation really shines:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>interactiveDig</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>form</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewForm</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewGroup</span>(
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewInput</span>().
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Title</span>(<span style=color:#e6db74>&#34;Domain/Subdomain:&#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Prompt</span>(<span style=color:#e6db74>&#34;? &#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Validate</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>strings</span>.<span style=color:#a6e22e>Contains</span>(<span style=color:#a6e22e>str</span>, <span style=color:#e6db74>&#34;.&#34;</span>) {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;domains should have a &#39;.&#39; in them&#34;</span>)
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>                }).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>domain</span>),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><blockquote><p><em>Note:</em> That validation function isn&rsquo;t just error checking - it&rsquo;s about guiding users to success.</p></blockquote><h3 id=the-ip-command-elegant-selection>The IP Command: Elegant Selection</h3><p><em>This is where select forms really shine:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>interactiveIP</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>form</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewForm</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewGroup</span>(
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewSelect</span>[<span style=color:#66d9ef>string</span>]().
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Title</span>(<span style=color:#e6db74>&#34;IP Type:&#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Options</span>(
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;Both&#34;</span>, <span style=color:#e6db74>&#34;both&#34;</span>),
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;Private&#34;</span>, <span style=color:#e6db74>&#34;private&#34;</span>),
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewOption</span>(<span style=color:#e6db74>&#34;Public&#34;</span>, <span style=color:#e6db74>&#34;public&#34;</span>),
</span></span><span style=display:flex><span>                ).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>ipType</span>),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h4 id=extra-dynamic-selection-options>Extra: Dynamic Selection Options</h4><p><img src=/images/20250207-meme1.png alt="you hardcoded.."></p><blockquote><p>Note:
This section is a little advanced and requires some knowledge on generics. I thought I would share because I couldn&rsquo;t find much documentation online about this.</p></blockquote><p>My example above is simple and hardcoded. Let&rsquo;s face it; not every situation can handle the options being known and hardcoded. Let&rsquo;s make our forms more dynamic and reusable. I&rsquo;ve developed a couple of utility functions (outside this project) that have saved me countless hours when dealing with dynamic select options.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// NewSelectForm creates a new select form</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewSelectForm</span>[<span style=color:#a6e22e>T</span> <span style=color:#a6e22e>comparable</span>](<span style=color:#a6e22e>options</span> []<span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>Option</span>[<span style=color:#a6e22e>T</span>], <span style=color:#a6e22e>title</span> <span style=color:#66d9ef>string</span>) (<span style=color:#a6e22e>T</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>var</span> <span style=color:#a6e22e>output</span> <span style=color:#a6e22e>T</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>form</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewForm</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewGroup</span>(
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewSelect</span>[<span style=color:#a6e22e>T</span>]().
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Title</span>(<span style=color:#a6e22e>title</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Options</span>(<span style=color:#a6e22e>options</span><span style=color:#f92672>...</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>output</span>),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>form</span>.<span style=color:#a6e22e>Run</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>output</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>output</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// GenerateGenericOptions generates options dynamically</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>GenerateGenericOptions</span>[<span style=color:#a6e22e>T</span> <span style=color:#a6e22e>comparable</span>](<span style=color:#a6e22e>items</span> []<span style=color:#a6e22e>T</span>) []<span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>Option</span>[<span style=color:#a6e22e>T</span>] {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>options</span> <span style=color:#f92672>:=</span> make([]<span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>Option</span>[<span style=color:#a6e22e>T</span>], len(<span style=color:#a6e22e>items</span>))
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>item</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>items</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>options</span>[<span style=color:#a6e22e>i</span>] = <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>Option</span>[<span style=color:#a6e22e>T</span>]{
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Key</span>:   <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%v&#34;</span>, <span style=color:#a6e22e>item</span>),
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>Value</span>: <span style=color:#a6e22e>item</span>,
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>options</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Let me break down why these functions are game-changers:</p><ul><li><strong>Type-Safe Generics</strong>: The <code>[T comparable]</code> constraint ensures our functions work with any comparable type (This means you can use it with strings, ints, or even custom types!)</li><li><strong>Simplified Form Creation</strong>: Using the above, we can do the following:</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Example usage with a slice of strings</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>protocols</span> <span style=color:#f92672>:=</span> []<span style=color:#66d9ef>string</span>{<span style=color:#e6db74>&#34;HTTP&#34;</span>, <span style=color:#e6db74>&#34;HTTPS&#34;</span>, <span style=color:#e6db74>&#34;FTP&#34;</span>, <span style=color:#e6db74>&#34;SSH&#34;</span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>options</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>GenerateGenericOptions</span>(<span style=color:#a6e22e>protocols</span>)
</span></span><span style=display:flex><span><span style=color:#a6e22e>selectedProtocol</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewSelectForm</span>(<span style=color:#a6e22e>options</span>, <span style=color:#e6db74>&#34;Select Protocol&#34;</span>)
</span></span></code></pre></div><ul><li><strong>Dynamic Option Generation</strong>: You can feed it any slice of comparable items. This will automatically generate the display keys and values (Remember, the Key is what users see, Value is what your code gets!).</li></ul><h3 id=the-netcat-command-advanced-form-handling>The Netcat Command: Advanced Form Handling</h3><p><em>Now this is where we really level up our game with multiple inputs and sophisticated validation:</em></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>interactiveNetcat</span>() {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>form</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewForm</span>(
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewGroup</span>(
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewInput</span>().
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Title</span>(<span style=color:#e6db74>&#34;IP to check:&#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Prompt</span>(<span style=color:#e6db74>&#34;? &#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Validate</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// autopass localhost - because hey, we all need a quick local test sometimes!</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>str</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;localhost&#34;</span> {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// Here&#39;s where the magic happens - we test both IPv4 and IPv6</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>parsedIP</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>net</span>.<span style=color:#a6e22e>ParseIP</span>(<span style=color:#a6e22e>str</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>parsedIP</span> <span style=color:#f92672>==</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>                        <span style=color:#75715e>// If it&#39;s not an IP, maybe it&#39;s a hostname?</span>
</span></span><span style=display:flex><span>                        <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>net</span>.<span style=color:#a6e22e>LookupHost</span>(<span style=color:#a6e22e>str</span>)
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>                            <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;not a valid IP address&#34;</span>)
</span></span><span style=display:flex><span>                        }
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>                }).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>host</span>),
</span></span><span style=display:flex><span>            <span style=color:#75715e>// Now for the port validation - this is crucial!</span>
</span></span><span style=display:flex><span>            <span style=color:#a6e22e>huh</span>.<span style=color:#a6e22e>NewInput</span>().
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Title</span>(<span style=color:#e6db74>&#34;Port to check:&#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Prompt</span>(<span style=color:#e6db74>&#34;? &#34;</span>).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Validate</span>(<span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>str</span> <span style=color:#66d9ef>string</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>portNum</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Atoi</span>(<span style=color:#a6e22e>str</span>)
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;not a valid port&#34;</span>)
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    <span style=color:#75715e>// Always validate port ranges!</span>
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>isValidPort</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>portNum</span> &gt; <span style=color:#ae81ff>0</span> <span style=color:#f92672>&amp;&amp;</span> <span style=color:#a6e22e>portNum</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>65535</span>
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>isValidPort</span> {
</span></span><span style=display:flex><span>                        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;port provided is outside of valid port range&#34;</span>)
</span></span><span style=display:flex><span>                    }
</span></span><span style=display:flex><span>                    <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>                }).
</span></span><span style=display:flex><span>                <span style=color:#a6e22e>Value</span>(<span style=color:#f92672>&amp;</span><span style=color:#a6e22e>port</span>),
</span></span><span style=display:flex><span>        ),
</span></span><span style=display:flex><span>    )
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>form</span>.<span style=color:#a6e22e>Run</span>()
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>log</span>.<span style=color:#a6e22e>Fatal</span>(<span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Let&rsquo;s break down what makes this netcat implementation special:</p><ol><li><p><strong>Form Structure</strong>:</p><ul><li>A single <code>NewGroup</code> contains two inputs - IP/hostname and port</li><li><em>Grouping related inputs makes the UX more intuitive!</em></li></ul></li><li><p><strong>IP/Hostname Validation</strong>:</p><ul><li>Fast-tracks &ldquo;localhost&rdquo; for quick local testing</li><li>Handles both direct IP addresses and domain names</li><li><em>Gotcha alert:</em> Don&rsquo;t forget the DNS lookup for hostnames!</li></ul></li><li><p><strong>Port Validation</strong>:</p><ul><li>Converts string input to numeric port</li><li>Validates against the full port range (1-65535)</li><li><em>Fun fact:</em> This prevents those &ldquo;why isn&rsquo;t it working?&rdquo; moments when someone tries port 0!</li></ul></li><li><p><strong>Error Handling</strong>:</p><ul><li>Blocking <code>form.Run()</code> ensures valid input</li><li>Comprehensive error catching at the form level</li><li>The blocking nature means your subsequent code can trust the input!</li></ul></li></ol><h2 id=taking-it-to-the-next-level-visual-polish->Taking It to the Next Level: Visual Polish ✨</h2><p>Want to make your CLI even more professional? Meet <a href=https://github.com/charmbracelet/lipgloss>lipgloss</a> - think of it as CSS for your terminal apps. It works seamlessly with <code>huh</code>!</p><p>Here&rsquo;s some suggestions on using <code>lipgloss</code>:</p><ul><li>Green for successful operations</li><li>Red for errors and warnings</li><li>Clear visual hierarchy for scan results</li></ul><h2 id=why-this-matters>Why This Matters</h2><p>Remember: great CLIs aren&rsquo;t just about functionality - they&rsquo;re about creating an experience that makes users actually want to use your tools. With <code>huh</code>, you&rsquo;re:</p><ul><li>Reducing user errors through validation</li><li>Providing intuitive interfaces</li><li>Making your tools more approachable</li><li>Building professional-grade experiences</li></ul><h2 id=getting-started-with-your-own-project>Getting Started with Your Own Project</h2><p>Ready to build something amazing? Here&rsquo;s your quick start guide:</p><ol><li>Set up your project with <code>cobra</code> for command structure</li><li>Add <code>huh</code> for interactive elements</li><li>Consider <code>lipgloss</code> for styling</li><li>Check out <a href=https://github.com/catpaladin/net-tools>net-tools</a> for implementation examples</li></ol><p>Start simple with basic prompts, then gradually add validation and complexity as you get comfortable with the library.</p><h2 id=wrapping-up>Wrapping Up</h2><p>The combination of <code>cobra</code> for structure and <code>huh</code> for interaction is powerful stuff. Whether you&rsquo;re building developer tools, system utilities, or anything in between, these libraries give you the building blocks for creating CLIs that users will love.</p><p>Remember: the best tools aren&rsquo;t just functional - they&rsquo;re a joy to use. Now go forth and build something awesome!</p></div><div class=post-footer></div></article></main></body></html>