<!doctype html><html lang=en-us><head><title>Modern Templating for Go with Templ // It's Go time!</title><link rel="shortcut icon" href=images/gopher_favicon.svg><meta charset=utf-8><meta name=generator content="Hugo 0.153.3"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Mike Sahari"><meta name=description content><meta property="og:site_name" content="It's Go time!"><meta property="og:title" content="Modern Templating for Go with Templ"><meta property="og:description" content="I&rsquo;ve been working on a handful of personal webdev Go projects, and the one thing I could never wrap my head around was Templ. I would start the project and go, &ldquo;Oh no. I need a UI for this. Not everything can be made into a TUI&mldr; or can it..&rdquo;. This would lead me to looking at the Templ docs, not understanding how to implement it, and either use the embed package (I LOVE embed!) or starting a TypeScript frontend, creating a bunch of tsx files and coming to the sudden realization that I gave in to React."><meta property="og:type" content="article"><meta property="og:url" content="https://blog.mikesahari.com/posts/html-templating/"><link rel=stylesheet href=/dist/catpaladin-blog.css><script>localStorage.theme==="dark"||!("theme"in localStorage)&&window.matchMedia("(prefers-color-scheme: dark)").matches?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark"),window.BLOG_DATA={siteTitle:"It's Go time!",menu:[{Identifier:"blogs",Parent:"",Name:"Blogs",Pre:"",Post:"",URL:"/",PageRef:"",Weight:1,Title:"",Params:null,Menu:"main",ConfiguredURL:"/",Page:null,Children:null},{Identifier:"tags",Parent:"",Name:"Tags",Pre:"",Post:"",URL:"/tags/",PageRef:"",Weight:2,Title:"",Params:null,Menu:"main",ConfiguredURL:"/tags/",Page:null,Children:null},{Identifier:"about",Parent:"",Name:"About",Pre:"",Post:"",URL:"/about/",PageRef:"",Weight:3,Title:"",Params:null,Menu:"main",ConfiguredURL:"/about/",Page:null,Children:null},{Identifier:"rss",Parent:"",Name:"RSS",Pre:"",Post:"",URL:"/index.xml",PageRef:"",Weight:4,Title:"",Params:null,Menu:"main",ConfiguredURL:"/index.xml",Page:null,Children:null}],socials:[{icon:"brand-linkedin",name:"LinkedIn",url:"https://linkedin.com/in/mike-sahari"},{icon:"brand-github",name:"Github",url:"https://github.com/catpaladin"},{icon:"brand-mastodon",name:"Mastodon",url:"https://mastodon.social/@ineedmorecoffee"},{icon:"brand-bluesky",name:"Bluesky",url:"https://bsky.app/profile/msahari.bsky.social"}],description:"A tech blog for Go, Tech, and all the other things I find interesting.",author:"Mike Sahari",isPage:!0,section:"posts"}</script><meta name=twitter:card content="summary"><meta name=twitter:title content="Modern Templating for Go with Templ"><meta name=twitter:description content="Iâ€™ve been working on a handful of personal webdev Go projects, and the one thing I could never wrap my head around was Templ. I would start the project and go, â€œOh no. I need a UI for this. Not everything can be made into a TUIâ€¦ or can it..â€. This would lead me to looking at the Templ docs, not understanding how to implement it, and either use the embed package (I LOVE embed!) or starting a TypeScript frontend, creating a bunch of tsx files and coming to the sudden realization that I gave in to React."><meta property="og:url" content="https://blog.mikesahari.com/posts/html-templating/"><meta property="og:site_name" content="It's Go time!"><meta property="og:title" content="Modern Templating for Go with Templ"><meta property="og:description" content="Iâ€™ve been working on a handful of personal webdev Go projects, and the one thing I could never wrap my head around was Templ. I would start the project and go, â€œOh no. I need a UI for this. Not everything can be made into a TUIâ€¦ or can it..â€. This would lead me to looking at the Templ docs, not understanding how to implement it, and either use the embed package (I LOVE embed!) or starting a TypeScript frontend, creating a bunch of tsx files and coming to the sudden realization that I gave in to React."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-21T19:50:55-07:00"><meta property="article:modified_time" content="2025-03-21T19:50:55-07:00"><meta property="article:tag" content="Html"><meta property="article:tag" content="Go"><meta property="article:tag" content="Htmx"><meta property="article:tag" content="Templating"><meta property="article:tag" content="Templ"><meta property="article:tag" content="Webdev"></head><body class="transition-colors duration-300"><div id=hugo-content style=display:none aria-hidden=true><div id=hugo-toc><nav id=TableOfContents><ul><li><a href=#what-is-templ>What is Templ?</a></li><li><a href=#installation-and-project-setup>Installation and Project Setup</a><ul><li><a href=#project-structure>Project Structure</a><ul><li><a href=#scripting-templ-generating>Scripting Templ Generating</a></li><li><a href=#setting-up-the-makefile>Setting up the Makefile</a></li><li><a href=#setup-air-toml>Setup Air TOML</a></li></ul></li></ul></li><li><a href=#coding-the-project>Coding the Project</a><ul><li><a href=#your-first-templ-view>Your First Templ View</a></li><li><a href=#component-composition>Component Composition</a></li><li><a href=#conditional-rendering>Conditional Rendering</a></li><li><a href=#iteration>Iteration</a></li></ul></li><li><a href=#wrap-up>Wrap Up</a></li></ul></nav></div><main class="max-w-4xl mx-auto px-4 py-12"><article class="max-w-3xl mx-auto"><header class="flex flex-col mb-12"><time datetime=2025-03-21 class="order-first flex items-center text-base text-slate-400 dark:text-slate-500"><span class="h-4 w-0.5 rounded-full bg-slate-200 dark:bg-slate-500 mr-3"></span>
March 21, 2025
<span class=mx-2>Â·</span>
<span>11 min read</span></time><h1 class="mt-6 text-4xl font-bold tracking-tight text-slate-900 dark:text-white sm:text-5xl">Modern Templating for Go with Templ</h1><div class="mt-6 flex flex-wrap gap-2"><a href=/tags/html/ class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200 hover:bg-primary hover:text-white transition-colors">Html
</a><a href=/tags/go/ class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200 hover:bg-primary hover:text-white transition-colors">Go
</a><a href=/tags/htmx/ class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200 hover:bg-primary hover:text-white transition-colors">Htmx
</a><a href=/tags/templating/ class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200 hover:bg-primary hover:text-white transition-colors">Templating
</a><a href=/tags/templ/ class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200 hover:bg-primary hover:text-white transition-colors">Templ
</a><a href=/tags/webdev/ class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-slate-100 text-slate-800 dark:bg-slate-800 dark:text-slate-200 hover:bg-primary hover:text-white transition-colors">Webdev</a></div></header><div class="mb-12 rounded-2xl overflow-hidden shadow-xl"><img src=/images/gophers/go-trending.svg alt="Modern Templating for Go with Templ" class="w-full h-auto object-cover"></div><div class="prose prose-slate dark:prose-invert max-w-none prose-headings:scroll-mt-20 prose-a:text-primary hover:prose-a:text-primary-dark prose-pre:bg-slate-900 prose-pre:border prose-pre:border-slate-800"><p>I&rsquo;ve been working on a handful of personal webdev Go projects, and the one thing I could never wrap my head around was <a href=https://github.com/a-h/templ>Templ</a>. I would start the project and go, &ldquo;Oh no. I need a UI for this. Not everything can be made into a TUI&mldr; or can it..&rdquo;. This would lead me to looking at the Templ docs, not understanding how to implement it, and either use the embed package (I LOVE <a href=https://pkg.go.dev/embed>embed</a>!) or starting a TypeScript frontend, creating a bunch of tsx files and coming to the sudden realization that I gave in to React.</p><p><img src=/images/2025/03/20250322-meme1.png alt="tech debt"></p><p>Templ brings type-safe, component-based HTML templating to the Go ecosystem. When paired with <a href=https://htmx.org/>HTMX</a> (Yes, I did try the GoTH stack sans Templ and thoroughly enjoyed it), it creates a powerful combination for building interactive web applications with minimal JavaScript.</p><p>For those of us who appreciate Go&rsquo;s simplicity and performance but struggle with the frontend story, Templ represents something of a holy grail. It&rsquo;s the missing puzzle piece that completes the picture of what modern Go web development can be.</p><p>Before discovering Templ, I bounced between various unsatisfying options:</p><ol><li>Standard library templates: Powerful but stringly-typed and prone to runtime errors</li><li>Pure JavaScript frontends: &ldquo;Two applications&rdquo; syndrome</li><li>Embedding HTML (and raw handcrafted artisan JS): Simple but not scalable or maintainable</li></ol><p>Each approach left me feeling like I was making a compromise. Templ finally offered a path that felt aligned with Go&rsquo;s philosophy â€“ strong typing, compile-time validation, and composition over inheritance.</p><p>I&rsquo;m still early in my journey with Templ, but for the first time, I feel like I&rsquo;m building web UIs the &ldquo;Go way&rdquo; instead of fighting against the language or surrendering to the JavaScript ecosystem. And that feels right.</p><h2 id=what-is-templ>What is Templ?</h2><p>Templ is a templating language and compiler for Go that focuses on type safety and composition. Unlike traditional templating engines that rely on string-based templates, Templ treats templates as first-class Go code.</p><p>Here&rsquo;s what makes Templ stand out from the crowd:</p><ul><li><strong>Type Safety</strong>: Templ templates are compiled to Go code, which means type errors are caught at compile-time, not runtime.</li><li><strong>Component-Based</strong>: If you&rsquo;re used to the whole component structure, you&rsquo;ll love this. Build reusable components that compose together naturally.</li><li><strong>Go Integration</strong>: Seamlessly integrate with your existing Go code and ecosystem.</li><li><strong>Performance</strong>: Templates compile down to efficient Go code that renders the HTML.</li><li><strong>HTMX-Friendly</strong>: Pairs perfectly with HTMX for building interactive interfaces with minimal JavaScript.</li></ul><h2 id=installation-and-project-setup>Installation and Project Setup</h2><p>Getting started with Templ is straightforward. You&rsquo;ll need two things:</p><ol><li>The Templ command-line tool (compiler)</li><li>The Templ runtime library</li></ol><p>Let&rsquo;s install both:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># Install the Templ CLI</span>
</span></span><span style=display:flex><span>go install github.com/a-h/templ/cmd/templ@latest
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Add the runtime to your project</span>
</span></span><span style=display:flex><span>go get github.com/a-h/templ
</span></span></code></pre></div><h3 id=project-structure>Project Structure</h3><p>From a high-level, our Templ project structure will look similar to this (sans the actual completed server for this blog post):</p><pre tabindex=0><code>example-templ-project/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ server/
â”‚       â””â”€â”€ main.go          # Application entry point
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ components/          # Generated Go code (don&#39;t edit these!)
â”‚   â”‚   â””â”€â”€ views_templ.go
â”‚   â”œâ”€â”€ handlers/
â”‚   â”‚   â”œâ”€â”€ http.go          # HTTP handlers
â”‚   â”‚   â””â”€â”€ routes.go        # Route setup
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â””â”€â”€ model.go         # Domain models
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â””â”€â”€ service.go       # Business logic
â”‚   â””â”€â”€ views/               # Generated Go code (don&#39;t edit these!)
â”‚       â””â”€â”€ views_templ.go
â”œâ”€â”€ scripts/                 # Includes any bash scripts for build/gen
â”œâ”€â”€ templates/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ card.templ       # Reusable UI components
â”‚   â”‚   â”œâ”€â”€ layout.templ
â”‚   â”‚   â””â”€â”€ nav.templ
â”‚   â”œâ”€â”€ pages/
â”‚   â”‚   â”œâ”€â”€ home.templ       # Page templates
â”‚   â”‚   â””â”€â”€ about.templ
â”‚   â””â”€â”€ views/               # Content
â”‚       â”œâ”€â”€ sample.templ
â”‚       â””â”€â”€ content.templ
â”œâ”€â”€ .air.toml
â”œâ”€â”€ .gitignore
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â””â”€â”€ Makefile
</code></pre><div class="my-8 rounded-2xl border-l-4 overflow-hidden shadow-lg border-primary bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 transition-all"><div class="px-6 py-3 font-bold text-white bg-primary">ğŸ’¡ Tip</div><div class="p-6 text-slate-700 dark:text-slate-200 leading-relaxed prose-sm dark:prose-invert">Keep your <code>.templ</code> files and their generated <code>.go</code> files in separate packages to avoid circular dependencies. The generated code should be in a different package from your application code.</div></div><p>In a Go + Templ project, it&rsquo;s important to follow these principles:</p><ol><li><strong>Separation of Concerns</strong>: Keep templates, handlers, and business logic separated</li><li><strong>Component-Based Design</strong>: Break down UIs into reusable components</li><li><strong>Clean Generation</strong>: Generated code should be ignored in version control</li><li><strong>Idiomatic Go</strong>: Follow standard Go project layouts and conventions</li></ol><p>To make this process easier, let&rsquo;s create the following:</p><ul><li>A <code>generate-templ.sh</code> for generating <code>.templ</code> files and putting our templated <code>_templ.go</code> files under our <code>internal/</code> directory.</li><li>A <code>Makefile</code> to simplify our all our commands.</li><li>A <code>.air.toml</code> for using Air to hot reload our app as we work on it.</li></ul><h4 id=scripting-templ-generating>Scripting Templ Generating</h4><p>First let&rsquo;s create the script.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p scripts
</span></span><span style=display:flex><span>touch scripts/generate-templ.sh
</span></span><span style=display:flex><span>chmod +x scripts/generate-templ.sh
</span></span></code></pre></div><p>And inside the script you&rsquo;ll want to add the following contents:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e>#!/bin/bash
</span></span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Find all templ files</span>
</span></span><span style=display:flex><span>find ./templates -name <span style=color:#e6db74>&#34;*.templ&#34;</span> | <span style=color:#66d9ef>while</span> read -r src_file; <span style=color:#66d9ef>do</span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Calculate destination path</span>
</span></span><span style=display:flex><span>    rel_path<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>src_file#./templates/<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>    dir_name<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>dirname <span style=color:#e6db74>&#34;</span>$rel_path<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>    file_name<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>basename <span style=color:#e6db74>&#34;</span>$rel_path<span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>)</span>
</span></span><span style=display:flex><span>    dest_dir<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;./internal/</span>$dir_name<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Create output directory</span>
</span></span><span style=display:flex><span>    mkdir -p <span style=color:#e6db74>&#34;</span>$dest_dir<span style=color:#e6db74>&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e># Run templ on the file and capture output</span>
</span></span><span style=display:flex><span>    templ generate -f <span style=color:#e6db74>&#34;</span>$src_file<span style=color:#e6db74>&#34;</span> -stdout &gt; <span style=color:#e6db74>&#34;</span>$dest_dir<span style=color:#e6db74>/</span><span style=color:#e6db74>${</span>file_name%.templ<span style=color:#e6db74>}</span><span style=color:#e6db74>_templ.go&#34;</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>done</span>
</span></span></code></pre></div><p>This simple script will make it easy to generate the files from <code>templates/</code> to <code>internal/</code>.</p><h4 id=setting-up-the-makefile>Setting up the Makefile</h4><p>Now you&rsquo;ll want to add the compilation step to your build process. Let&rsquo;s create a <code>Makefile</code> under the root of the directory. A good Makefile might look like this:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-makefile data-lang=makefile><span style=display:flex><span><span style=color:#a6e22e>.PHONY</span><span style=color:#f92672>:</span> generate build run clean dev
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>generate</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	./scripts/generate-templ.sh
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>build</span><span style=color:#f92672>:</span> generate
</span></span><span style=display:flex><span>	go build -o bin/server ./cmd/server
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>run</span><span style=color:#f92672>:</span> build
</span></span><span style=display:flex><span>	./bin/server
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># Default example if none specified
</span></span></span><span style=display:flex><span><span style=color:#75715e># This is added because our example project will have multiple cmd targets
</span></span></span><span style=display:flex><span><span style=color:#75715e># Usage: make dev CMD_DIR=greeting-example
</span></span></span><span style=display:flex><span>CMD_DIR <span style=color:#f92672>?=</span> server
</span></span><span style=display:flex><span><span style=color:#a6e22e>dev</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	CMD_DIR<span style=color:#f92672>=</span><span style=color:#66d9ef>$(</span>CMD_DIR<span style=color:#66d9ef>)</span> air
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>clean</span><span style=color:#f92672>:</span>
</span></span><span style=display:flex><span>	rm -rf bin/
</span></span><span style=display:flex><span>	find ./templates -name <span style=color:#e6db74>&#34;*_templ.go&#34;</span> -type f -delete
</span></span></code></pre></div><p>Now we can run <code>make generate</code> over and over and over. Although, this next step will make it unnecessary with the use of Air.</p><h4 id=setup-air-toml>Setup Air TOML</h4><div class="my-8 rounded-2xl border-l-4 overflow-hidden shadow-lg border-primary bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 transition-all"><div class="px-6 py-3 font-bold text-white bg-primary">ğŸ’¡ Tip</div><div class="p-6 text-slate-700 dark:text-slate-200 leading-relaxed prose-sm dark:prose-invert">Many developers use <a href=https://github.com/cosmtrek/air>Air</a> for hot reloading during development. It can be configured to recompile your Templ files and restart your server when changes are detected.</div></div><p>First we want to install Air.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go install github.com/air-verse/air@latest
</span></span></code></pre></div><p>And now create the <code>.air.toml</code> in the root directory. The contents will look like:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-toml data-lang=toml><span style=display:flex><span><span style=color:#a6e22e>root</span> = <span style=color:#e6db74>&#34;.&#34;</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>tmp_dir</span> = <span style=color:#e6db74>&#34;tmp&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>build</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>cmd</span> = <span style=color:#e6db74>&#34;./scripts/generate-templ.sh &amp;&amp; go build -o ./tmp/main ./cmd/${CMD_DIR}&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>bin</span> = <span style=color:#e6db74>&#34;./tmp/main&#34;</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>include_ext</span> = [<span style=color:#e6db74>&#34;go&#34;</span>, <span style=color:#e6db74>&#34;templ&#34;</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>exclude_regex</span> = [<span style=color:#e6db74>&#34;_templ.go&#34;</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>delay</span> = <span style=color:#ae81ff>1000</span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>exclude_dir</span> = [<span style=color:#e6db74>&#34;assets&#34;</span>, <span style=color:#e6db74>&#34;tmp&#34;</span>, <span style=color:#e6db74>&#34;vendor&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>[<span style=color:#a6e22e>screen</span>]
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>clear_on_rebuild</span> = <span style=color:#66d9ef>true</span>
</span></span></code></pre></div><p>This config will let us generate and build every time the files are modified. It leverages our bash script and makes it dynamic for the multiple commands that we will be creating under <code>cmd/</code>.</p><h2 id=coding-the-project>Coding the Project</h2><p>Let&rsquo;s start with some basic examples to get a feel for how Templ works with some cat-themed examples.</p><p><img src=/images/2025/03/20250322-meme2.png alt="cat memes"></p><h3 id=your-first-templ-view>Your First Templ View</h3><p>Create a file named <code>greeting.templ</code> under <code>templates/views/</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p templates/views
</span></span><span style=display:flex><span>touch templates/views/greeting.templ
</span></span></code></pre></div><p>Create the following content:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Create this under `templates/views/greeting.templ`</span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>views</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatGreeting</span>(<span style=color:#a6e22e>catName</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>	&lt;<span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>h1</span>&gt;<span style=color:#a6e22e>Hello</span>, {<span style=color:#a6e22e>catName</span>}!&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h1</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>p</span>&gt;<span style=color:#a6e22e>Welcome</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>Templ</span> <span style=color:#a6e22e>demo</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>p</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Run the Templ compiler to generate Go code:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make generate
</span></span></code></pre></div><p>This will create a file called <code>greeting_templ.go</code> (found under <code>internal/views/</code>) that contains the compiled Go code for your template.</p><p>Now you can use your template in a Go HTTP handler. Let&rsquo;s create a <code>main.go</code> to test our code. Let&rsquo;s do some setup.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p cmd/greeting-example
</span></span><span style=display:flex><span>touch cmd/greeting-example/main.go
</span></span></code></pre></div><p>Inside the contents:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#75715e>// Remember to create under `cmd/greeting-example/main.go`</span>
</span></span><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;example-templ-project/templates/views&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/a-h/templ&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Handle</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>templ</span>.<span style=color:#a6e22e>Handler</span>(<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatGreeting</span>(<span style=color:#e6db74>&#34;Whiskers&#34;</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ListenAndServe</span>(<span style=color:#e6db74>&#34;:8080&#34;</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>And now we can run it with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make dev CMD_DIR<span style=color:#f92672>=</span>greeting-example
</span></span></code></pre></div><p>Visiting <code>localhost:8080</code> in your browser will show off our example!</p><h3 id=component-composition>Component Composition</h3><p>One of Templ&rsquo;s strengths is composition. Here&rsquo;s how you can compose templates. First let&rsquo;s create a component:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir -p templates/components
</span></span><span style=display:flex><span>touch templates/components/layout.templ
</span></span></code></pre></div><p>Add the following content to create our reusable component under <code>templates/components/layout.templ</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>components</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatLayout</span>(<span style=color:#a6e22e>title</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>	&lt;!<span style=color:#a6e22e>DOCTYPE</span> <span style=color:#a6e22e>html</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#a6e22e>html</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>head</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>title</span>&gt;{<span style=color:#a6e22e>title</span>}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>title</span>&gt;
</span></span><span style=display:flex><span>			&lt;!<span style=color:#f92672>--</span> <span style=color:#a6e22e>HTMX</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>interactivity</span> <span style=color:#a6e22e>without</span> <span style=color:#a6e22e>JavaScript</span> <span style=color:#f92672>--</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>script</span> <span style=color:#a6e22e>src</span>=<span style=color:#e6db74>&#34;https://unpkg.com/htmx.org@1.9.6&#34;</span>&gt;&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>script</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>style</span>&gt;
</span></span><span style=display:flex><span>				<span style=color:#a6e22e>body</span> {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>font</span><span style=color:#f92672>-</span><span style=color:#a6e22e>family</span>: <span style=color:#a6e22e>system</span><span style=color:#f92672>-</span><span style=color:#a6e22e>ui</span>, <span style=color:#a6e22e>sans</span><span style=color:#f92672>-</span><span style=color:#a6e22e>serif</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>max</span><span style=color:#f92672>-</span><span style=color:#a6e22e>width</span>: <span style=color:#ae81ff>800</span><span style=color:#a6e22e>px</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>margin</span>: <span style=color:#ae81ff>0</span> <span style=color:#a6e22e>auto</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>padding</span>: <span style=color:#ae81ff>1</span><span style=color:#a6e22e>rem</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>background</span><span style=color:#f92672>-</span><span style=color:#a6e22e>color</span>: <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>fffaf5</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				.<span style=color:#a6e22e>cat</span><span style=color:#f92672>-</span><span style=color:#a6e22e>container</span> {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>border</span>: <span style=color:#ae81ff>2</span><span style=color:#a6e22e>px</span> <span style=color:#a6e22e>solid</span> <span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>ffb74d</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>border</span><span style=color:#f92672>-</span><span style=color:#a6e22e>radius</span>: <span style=color:#ae81ff>8</span><span style=color:#a6e22e>px</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>padding</span>: <span style=color:#ae81ff>1</span><span style=color:#a6e22e>rem</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>margin</span><span style=color:#f92672>-</span><span style=color:#a6e22e>bottom</span>: <span style=color:#ae81ff>1</span><span style=color:#a6e22e>rem</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				.<span style=color:#a6e22e>cat</span><span style=color:#f92672>-</span><span style=color:#a6e22e>paw</span> {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>cursor</span>: <span style=color:#a6e22e>pointer</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>display</span>: <span style=color:#a6e22e>inline</span><span style=color:#f92672>-</span><span style=color:#a6e22e>block</span>;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>transition</span>: <span style=color:#a6e22e>transform</span> <span style=color:#ae81ff>0.2</span><span style=color:#a6e22e>s</span>;
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>				.<span style=color:#a6e22e>cat</span><span style=color:#f92672>-</span><span style=color:#a6e22e>paw</span>:<span style=color:#a6e22e>hover</span> {
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>transform</span>: <span style=color:#a6e22e>rotate</span>(<span style=color:#ae81ff>10</span><span style=color:#a6e22e>deg</span>);
</span></span><span style=display:flex><span>				}
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>style</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>head</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>body</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>header</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>span</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-paw&#34;</span>&gt;<span style=color:#960050;background-color:#1e0010>ğŸ¾</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>span</span>&gt; &lt;<span style=color:#a6e22e>strong</span>&gt;<span style=color:#a6e22e>Templ</span> <span style=color:#a6e22e>Demo</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>strong</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>header</span>&gt;
</span></span><span style=display:flex><span>			{ <span style=color:#a6e22e>children</span><span style=color:#f92672>...</span> }
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>body</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>html</span>&gt;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This will allow us to add HTMX and a simple box. Now let&rsquo;s use our component in a view! Create <code>templates/views/composition.templ</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>views</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;example-templ-project/internal/components&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatContent</span>(<span style=color:#a6e22e>title</span> <span style=color:#66d9ef>string</span>) {
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>components</span>.<span style=color:#a6e22e>CatLayout</span>(<span style=color:#a6e22e>title</span>) {
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>main</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>div</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-container&#34;</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>h1</span>&gt;<span style=color:#a6e22e>Welcome</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>my</span> <span style=color:#a6e22e>catalog</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>templates</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h1</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>p</span>&gt;<span style=color:#a6e22e>This</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>an</span> <span style=color:#a6e22e>amazing</span> <span style=color:#a6e22e>demo</span> <span style=color:#a6e22e>of</span> <span style=color:#a6e22e>Templ</span> <span style=color:#a6e22e>with</span> <span style=color:#a6e22e>HTMX</span>.&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>p</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>main</span>&gt;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Now let&rsquo;s test it all with an example command. Create the following <code>cmd/composition-example/main.go</code> with the following content:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/a-h/templ&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;example-templ-project/internal/views&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Handle</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>templ</span>.<span style=color:#a6e22e>Handler</span>(<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatContent</span>(<span style=color:#e6db74>&#34;Cat Page!&#34;</span>)))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ListenAndServe</span>(<span style=color:#e6db74>&#34;:8080&#34;</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We can run this on <code>localhost:8080</code> with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make dev CMD_DIR<span style=color:#f92672>=</span>composition-example
</span></span></code></pre></div><p>Here&rsquo;s a diagram showing the component composition flow:</p><div class=mermaid data-mermaid="Z3JhcGggVEQKICAgIEFbSFRUUCBSZXF1ZXN0XSAtLT4gQltIYW5kbGVyXQogICAgQiAtLT4gQ1tDb250ZW50IENvbXBvbmVudF0KICAgIEMgLS0+IERbTGF5b3V0IENvbXBvbmVudF0KICAgIEQgLS0+IEVbUmVuZGVyIEhUTUwgUmVzcG9uc2VdCgogICAgc3R5bGUgQSBmaWxsOiMyRDM3NDgsY29sb3I6I0UyRThGMAogICAgc3R5bGUgQiBmaWxsOiM0QTU1NjgsY29sb3I6I0UyRThGMAogICAgc3R5bGUgQyBmaWxsOiM3MTgwOTYsY29sb3I6I0UyRThGMAogICAgc3R5bGUgRCBmaWxsOiNBMEFFQzAsY29sb3I6IzFBMjAyQwogICAgc3R5bGUgRSBmaWxsOiNDQkQ1RTAsY29sb3I6IzFBMjAyQw==">graph TD
A[HTTP Request] --> B[Handler]
B --> C[Content Component]
C --> D[Layout Component]
D --> E[Render HTML Response]
style A fill:#2D3748,color:#E2E8F0
style B fill:#4A5568,color:#E2E8F0
style C fill:#718096,color:#E2E8F0
style D fill:#A0AEC0,color:#1A202C
style E fill:#CBD5E0,color:#1A202C</div><h3 id=conditional-rendering>Conditional Rendering</h3><p>Templ supports conditional rendering using Go&rsquo;s own control structures. For this, let&rsquo;s make use of our compositional to load htmx and let&rsquo;s create a <code>templates/views/conditional.templ</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>views</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;example-templ-project/internal/components&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatTreatingContent</span>(<span style=color:#a6e22e>catName</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>hasTreats</span> <span style=color:#66d9ef>bool</span>) {
</span></span><span style=display:flex><span>    &lt;<span style=color:#a6e22e>div</span> <span style=color:#a6e22e>id</span>=<span style=color:#e6db74>&#34;cat-treating&#34;</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-container&#34;</span>&gt;
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#a6e22e>hasTreats</span> {
</span></span><span style=display:flex><span>            &lt;<span style=color:#a6e22e>h1</span>&gt;<span style=color:#a6e22e>Thank</span> <span style=color:#a6e22e>you</span> <span style=color:#66d9ef>for</span> <span style=color:#a6e22e>the</span> <span style=color:#a6e22e>treats</span>, {<span style=color:#a6e22e>catName</span>}!&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h1</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#a6e22e>span</span>&gt;<span style=color:#960050;background-color:#1e0010>ğŸ˜»</span> <span style=color:#a6e22e>Happy</span> <span style=color:#a6e22e>cat</span> <span style=color:#a6e22e>is</span> <span style=color:#a6e22e>happy</span>!&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>span</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#a6e22e>button</span> <span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>post</span>=<span style=color:#e6db74>&#34;/conditional?hasTreats=false&#34;</span> <span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>target</span>=<span style=color:#e6db74>&#34;#cat-treating&#34;</span> <span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>swap</span>=<span style=color:#e6db74>&#34;outerHTML&#34;</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;treat-button&#34;</span>&gt;
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Reset</span>
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>button</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>        } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>            &lt;<span style=color:#a6e22e>h1</span>&gt;<span style=color:#a6e22e>Hello</span>, {<span style=color:#a6e22e>catName</span>}!&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h1</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>                &lt;<span style=color:#a6e22e>button</span> <span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>post</span>=<span style=color:#e6db74>&#34;/conditional?hasTreats=true&#34;</span> <span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>target</span>=<span style=color:#e6db74>&#34;#cat-treating&#34;</span> <span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>swap</span>=<span style=color:#e6db74>&#34;outerHTML&#34;</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;treat-button&#34;</span>&gt;
</span></span><span style=display:flex><span>                    <span style=color:#a6e22e>Give</span> <span style=color:#a6e22e>Treats</span>
</span></span><span style=display:flex><span>                &lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>button</span>&gt;
</span></span><span style=display:flex><span>            &lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>        }
</span></span><span style=display:flex><span>    &lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatTreatingPage</span>(<span style=color:#a6e22e>catName</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>hasTreats</span> <span style=color:#66d9ef>bool</span>) {
</span></span><span style=display:flex><span>    <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>components</span>.<span style=color:#a6e22e>CatLayout</span>(<span style=color:#e6db74>&#34;Treats&#34;</span>) {
</span></span><span style=display:flex><span>        <span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>CatTreatingContent</span>(<span style=color:#a6e22e>catName</span>, <span style=color:#a6e22e>hasTreats</span>)
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Next we need to create the example command for this. Setup <code>cmd/iteration-example/main.go</code> to have the following contents:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;github.com/a-h/templ&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;example-templ-project/internal/views&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Handle</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>templ</span>.<span style=color:#a6e22e>Handler</span>(<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatContent</span>(<span style=color:#e6db74>&#34;Cat Page!&#34;</span>)))
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>HandleFunc</span>(<span style=color:#e6db74>&#34;/conditional&#34;</span>, <span style=color:#66d9ef>func</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Method</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;GET&#34;</span> {
</span></span><span style=display:flex><span>			<span style=color:#75715e>// Full page with layout for initial load</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatTreatingPage</span>(<span style=color:#e6db74>&#34;Whiskers&#34;</span>, <span style=color:#66d9ef>false</span>).<span style=color:#a6e22e>Render</span>(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Context</span>(), <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			<span style=color:#75715e>// Just the content for HTMX requests</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>hasTreats</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>URL</span>.<span style=color:#a6e22e>Query</span>().<span style=color:#a6e22e>Get</span>(<span style=color:#e6db74>&#34;hasTreats&#34;</span>) <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;true&#34;</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatTreatingContent</span>(<span style=color:#e6db74>&#34;Whiskers&#34;</span>, <span style=color:#a6e22e>hasTreats</span>).<span style=color:#a6e22e>Render</span>(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Context</span>(), <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ListenAndServe</span>(<span style=color:#e6db74>&#34;:8080&#34;</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Remember to change the <code>CMD_DIR</code> for testing this.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make dev CMD_DIR<span style=color:#f92672>=</span>conditional-example
</span></span></code></pre></div><div class="my-8 rounded-2xl border-l-4 overflow-hidden shadow-lg border-primary bg-white dark:bg-slate-800/50 border-slate-200 dark:border-slate-700 transition-all"><div class="px-6 py-3 font-bold text-white bg-primary">ğŸ“ Note</div><div class="p-6 text-slate-700 dark:text-slate-200 leading-relaxed prose-sm dark:prose-invert">Notice how we&rsquo;ve added an HTMX-powered button that makes a POST request to <code>/conditional</code> and will swap its own HTML with the server response. This is how HTMX enables interactivity without writing JavaScript.</div></div><h3 id=iteration>Iteration</h3><p>Iterating over collections is just as intuitive, although this example has quite a bit going on. Let&rsquo;s create <code>templates/views/iteration.templ</code>:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>views</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#e6db74>&#34;example-templ-project/internal/components&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Cat</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>       <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Name</span>     <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Breed</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Naps</span>     <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>FavToy</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatList</span>(<span style=color:#a6e22e>cats</span> []<span style=color:#a6e22e>Cat</span>) {
</span></span><span style=display:flex><span>	&lt;<span style=color:#a6e22e>div</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-collection&#34;</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>h2</span>&gt;<span style=color:#a6e22e>Cat</span> <span style=color:#a6e22e>Collection</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h2</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>ul</span>&gt;
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>cat</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>cats</span> {
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>li</span> <span style=color:#a6e22e>id</span>={<span style=color:#e6db74>&#34;cat-&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span>)} <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-item&#34;</span>&gt;
</span></span><span style=display:flex><span>					&lt;<span style=color:#a6e22e>strong</span>&gt;{<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Name</span>}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>strong</span>&gt; <span style=color:#f92672>-</span> {<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Breed</span>}
</span></span><span style=display:flex><span>					&lt;<span style=color:#a6e22e>div</span>&gt;<span style=color:#a6e22e>Naps</span> <span style=color:#a6e22e>today</span>: {<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Naps</span>)}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>					&lt;<span style=color:#a6e22e>div</span>&gt;<span style=color:#a6e22e>Favorite</span> <span style=color:#a6e22e>toy</span>: {<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>FavToy</span>}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>					&lt;<span style=color:#a6e22e>button</span>
</span></span><span style=display:flex><span>						<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>get</span>={<span style=color:#e6db74>&#34;/pet-cat/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span>)}
</span></span><span style=display:flex><span>						<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>target</span>={<span style=color:#e6db74>&#34;#cat-&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span>)}
</span></span><span style=display:flex><span>						<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>swap</span>=<span style=color:#e6db74>&#34;outerHTML&#34;</span>
</span></span><span style=display:flex><span>					&gt;
</span></span><span style=display:flex><span>						<span style=color:#a6e22e>Pet</span> {<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Name</span>}
</span></span><span style=display:flex><span>					&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>button</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>li</span>&gt;
</span></span><span style=display:flex><span>			}
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>ul</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatPage</span>(<span style=color:#a6e22e>cats</span> []<span style=color:#a6e22e>Cat</span>, <span style=color:#a6e22e>hasTreats</span> <span style=color:#66d9ef>bool</span>) {
</span></span><span style=display:flex><span>	<span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>components</span>.<span style=color:#a6e22e>CatLayout</span>(<span style=color:#e6db74>&#34;Cat Paradise&#34;</span>) {
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>main</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>div</span> <span style=color:#a6e22e>id</span>=<span style=color:#e6db74>&#34;treats-section&#34;</span>&gt;
</span></span><span style=display:flex><span>				<span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>CatTreatingSection</span>(<span style=color:#a6e22e>hasTreats</span>)
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>div</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-collection&#34;</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>h2</span>&gt;<span style=color:#a6e22e>Cat</span> <span style=color:#a6e22e>Collection</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h2</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>ul</span>&gt;
</span></span><span style=display:flex><span>					<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>cat</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>cats</span> {
</span></span><span style=display:flex><span>						<span style=color:#960050;background-color:#1e0010>@</span><span style=color:#a6e22e>CatListItem</span>(<span style=color:#a6e22e>cat</span>)
</span></span><span style=display:flex><span>					}
</span></span><span style=display:flex><span>				&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>ul</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>main</span>&gt;
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Treatments section component</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatTreatingSection</span>(<span style=color:#a6e22e>hasTreats</span> <span style=color:#66d9ef>bool</span>) {
</span></span><span style=display:flex><span>	&lt;<span style=color:#a6e22e>div</span> <span style=color:#a6e22e>id</span>=<span style=color:#e6db74>&#34;treats-section&#34;</span> <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-container&#34;</span>&gt;
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>hasTreats</span> {
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>h2</span>&gt;<span style=color:#a6e22e>Treats</span> <span style=color:#a6e22e>are</span> <span style=color:#a6e22e>available</span>! <span style=color:#960050;background-color:#1e0010>ğŸ¤</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h2</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>span</span>&gt;<span style=color:#960050;background-color:#1e0010>ğŸ˜»</span> <span style=color:#a6e22e>All</span> <span style=color:#a6e22e>cats</span> <span style=color:#a6e22e>are</span> <span style=color:#a6e22e>happy</span>!&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>span</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>button</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>post</span>=<span style=color:#e6db74>&#34;/treats?hasTreats=false&#34;</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>target</span>=<span style=color:#e6db74>&#34;#treats-section&#34;</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>swap</span>=<span style=color:#e6db74>&#34;outerHTML&#34;</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;treat-button&#34;</span>&gt;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>Put</span> <span style=color:#a6e22e>Treats</span> <span style=color:#a6e22e>Away</span>
</span></span><span style=display:flex><span>				&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>button</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>h2</span>&gt;<span style=color:#a6e22e>No</span> <span style=color:#a6e22e>treats</span> <span style=color:#a6e22e>currently</span>&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>h2</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>				&lt;<span style=color:#a6e22e>button</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>post</span>=<span style=color:#e6db74>&#34;/treats?hasTreats=true&#34;</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>target</span>=<span style=color:#e6db74>&#34;#treats-section&#34;</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>swap</span>=<span style=color:#e6db74>&#34;outerHTML&#34;</span>
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;treat-button&#34;</span>&gt;
</span></span><span style=display:flex><span>					<span style=color:#a6e22e>Give</span> <span style=color:#a6e22e>Treats</span> <span style=color:#a6e22e>to</span> <span style=color:#a6e22e>All</span> <span style=color:#a6e22e>Cats</span>
</span></span><span style=display:flex><span>				&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>button</span>&gt;
</span></span><span style=display:flex><span>			&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Individual cat item</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>templ</span> <span style=color:#a6e22e>CatListItem</span>(<span style=color:#a6e22e>cat</span> <span style=color:#a6e22e>Cat</span>) {
</span></span><span style=display:flex><span>	&lt;<span style=color:#a6e22e>li</span> <span style=color:#a6e22e>id</span>={<span style=color:#e6db74>&#34;cat-&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span>)} <span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;cat-item&#34;</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>strong</span>&gt;{<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Name</span>}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>strong</span>&gt; <span style=color:#f92672>-</span> {<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Breed</span>}
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>div</span>&gt;<span style=color:#a6e22e>Naps</span> <span style=color:#a6e22e>today</span>: {<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%d&#34;</span>, <span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Naps</span>)}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>div</span>&gt;<span style=color:#a6e22e>Favorite</span> <span style=color:#a6e22e>toy</span>: {<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>FavToy</span>}&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>div</span>&gt;
</span></span><span style=display:flex><span>		&lt;<span style=color:#a6e22e>button</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>get</span>={<span style=color:#e6db74>&#34;/pet-cat/&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span>)}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>target</span>={<span style=color:#e6db74>&#34;#cat-&#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprint</span>(<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span>)}
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>hx</span><span style=color:#f92672>-</span><span style=color:#a6e22e>swap</span>=<span style=color:#e6db74>&#34;outerHTML&#34;</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>class</span>=<span style=color:#e6db74>&#34;treat-button&#34;</span>
</span></span><span style=display:flex><span>		&gt;
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Pet</span> {<span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>Name</span>}
</span></span><span style=display:flex><span>		&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>button</span>&gt;
</span></span><span style=display:flex><span>	&lt;<span style=color:#f92672>/</span><span style=color:#a6e22e>li</span>&gt;
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Let&rsquo;s setup the <code>cmd/iteration-example/main.go</code> to handle the HTMX requests:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;net/http&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strconv&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;example-templ-project/internal/views&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>var</span> (
</span></span><span style=display:flex><span>	<span style=color:#75715e>// This is mock data. Generally you would get and update this data with a database</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>cats</span> = []<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>Cat</span>{
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>ID</span>: <span style=color:#ae81ff>1</span>, <span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;Finn&#34;</span>, <span style=color:#a6e22e>Breed</span>: <span style=color:#e6db74>&#34;Orange&#34;</span>, <span style=color:#a6e22e>Naps</span>: <span style=color:#ae81ff>5</span>, <span style=color:#a6e22e>FavToy</span>: <span style=color:#e6db74>&#34;Mouse&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>ID</span>: <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;Honey&#34;</span>, <span style=color:#a6e22e>Breed</span>: <span style=color:#e6db74>&#34;Calico&#34;</span>, <span style=color:#a6e22e>Naps</span>: <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>FavToy</span>: <span style=color:#e6db74>&#34;String&#34;</span>},
</span></span><span style=display:flex><span>		{<span style=color:#a6e22e>ID</span>: <span style=color:#ae81ff>3</span>, <span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;Wonkers&#34;</span>, <span style=color:#a6e22e>Breed</span>: <span style=color:#e6db74>&#34;Black&#34;</span>, <span style=color:#a6e22e>Naps</span>: <span style=color:#ae81ff>7</span>, <span style=color:#a6e22e>FavToy</span>: <span style=color:#e6db74>&#34;Catnip Ball&#34;</span>},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>globalHasTreats</span> = <span style=color:#66d9ef>false</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>HandleFunc</span>(<span style=color:#e6db74>&#34;/&#34;</span>, <span style=color:#a6e22e>handleMainPage</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>HandleFunc</span>(<span style=color:#e6db74>&#34;/pet-cat/&#34;</span>, <span style=color:#a6e22e>handlePetCat</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>HandleFunc</span>(<span style=color:#e6db74>&#34;/treats&#34;</span>, <span style=color:#a6e22e>handleTreats</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ListenAndServe</span>(<span style=color:#e6db74>&#34;:8080&#34;</span>, <span style=color:#66d9ef>nil</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleMainPage</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatPage</span>(<span style=color:#a6e22e>cats</span>, <span style=color:#a6e22e>globalHasTreats</span>).<span style=color:#a6e22e>Render</span>(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Context</span>(), <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handlePetCat</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>idStr</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>URL</span>.<span style=color:#a6e22e>Path</span>[len(<span style=color:#e6db74>&#34;/pet-cat/&#34;</span>):]
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>strconv</span>.<span style=color:#a6e22e>Atoi</span>(<span style=color:#a6e22e>idStr</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Error</span>(<span style=color:#a6e22e>w</span>, <span style=color:#e6db74>&#34;Invalid cat ID&#34;</span>, <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusBadRequest</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>targetCat</span> <span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>Cat</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>found</span> <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>cat</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>cats</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>cat</span>.<span style=color:#a6e22e>ID</span> <span style=color:#f92672>==</span> <span style=color:#a6e22e>id</span> {
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>cats</span>[<span style=color:#a6e22e>i</span>].<span style=color:#a6e22e>Naps</span><span style=color:#f92672>++</span>
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>targetCat</span> = <span style=color:#a6e22e>cats</span>[<span style=color:#a6e22e>i</span>]
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>found</span> = <span style=color:#66d9ef>true</span>
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>break</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>found</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Error</span>(<span style=color:#a6e22e>w</span>, <span style=color:#e6db74>&#34;Cat not found&#34;</span>, <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>StatusNotFound</span>)
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatListItem</span>(<span style=color:#a6e22e>targetCat</span>).<span style=color:#a6e22e>Render</span>(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Context</span>(), <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleTreats</span>(<span style=color:#a6e22e>w</span> <span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>ResponseWriter</span>, <span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>http</span>.<span style=color:#a6e22e>Request</span>) {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Toggle treats state</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>hasTreatsParam</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>URL</span>.<span style=color:#a6e22e>Query</span>().<span style=color:#a6e22e>Get</span>(<span style=color:#e6db74>&#34;hasTreats&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>globalHasTreats</span> = (<span style=color:#a6e22e>hasTreatsParam</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;true&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>views</span>.<span style=color:#a6e22e>CatTreatingSection</span>(<span style=color:#a6e22e>globalHasTreats</span>).<span style=color:#a6e22e>Render</span>(<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Context</span>(), <span style=color:#a6e22e>w</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>We can see this in action under <code>localhost:8080</code> with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>make dev CMD_DIR<span style=color:#f92672>=</span>iteration-example
</span></span></code></pre></div><h2 id=wrap-up>Wrap Up</h2><p>Templ represents a significant step forward for Go web development. By bringing a component-based approach with full type safety to Go templates, it addresses many of the pain points developers have faced with traditional templating solutions.</p><p>When combined with HTMX, it creates a powerful stack for building interactive web applications with minimal JavaScript.</p><p>Here&rsquo;s why you should consider Templ and HTMX for your next Go web project:</p><ol><li><strong>Maintainability</strong>: Components are modular, reusable, and composable.</li><li><strong>Performance</strong>: Compiled templates are efficient and fast.</li><li><strong>Integration</strong>: Works seamlessly with the standard Go HTTP stack.</li><li><strong>Interactivity</strong>: HTMX enables dynamic interfaces without complex JavaScript frameworks.</li></ol><p>Whether you&rsquo;re building a simple website or a complex web application, Templ&rsquo;s approach to templating aligns perfectly with Go&rsquo;s philosophy of simplicity, type safety, and performance. The idiomatic project structure ensures your code remains maintainable as it grows, while the combination with HTMX lets you create rich, interactive experiences without the complexity of a full JavaScript framework.</p><p>Checkout the entire project code in my <a href=https://github.com/catpaladin/example-templ-project>github repo</a>.</p><p>Give Templ and HTMX a try for your next Go web project - I think you&rsquo;ll find it&rsquo;s the templating solution you&rsquo;ve been waiting for!</p></div><div class="mt-16 pt-8 border-t border-slate-200 dark:border-slate-800"><h3 class="text-2xl font-bold text-slate-900 dark:text-white mb-6">Recommended Reading</h3><div class="grid grid-cols-1 md:grid-cols-3 gap-6"><a href=/posts/intro-to-go-htmx/ class="group flex flex-col p-4 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-primary transition-all hover:shadow-lg dark:hover:bg-slate-800/50"><time class="text-xs text-slate-500 mb-2">Jan 23, 2025</time><h4 class="text-sm font-bold text-slate-900 dark:text-white group-hover:text-primary transition-colors line-clamp-2">Introduction to Go and HTMX</h4><p class="mt-2 text-xs text-slate-600 dark:text-slate-400 line-clamp-3"><p>Hello readers. Welcome to my blog!</p><p>I was debating on if I would write out a full â€¦</p></p></a><a href=/posts/dsa-part2-data-structures/ class="group flex flex-col p-4 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-primary transition-all hover:shadow-lg dark:hover:bg-slate-800/50"><time class="text-xs text-slate-500 mb-2">May 17, 2025</time><h4 class="text-sm font-bold text-slate-900 dark:text-white group-hover:text-primary transition-colors line-clamp-2">Mastering DSAs in Go - Data Structures [Part 2]</h4><p class="mt-2 text-xs text-slate-600 dark:text-slate-400 line-clamp-3"><p>Hello, Gophers! Welcome to Part 2 of Data Structures and Algorithms. If â€¦</p></p></a><a href=/posts/dsa-part1-big-o/ class="group flex flex-col p-4 rounded-xl border border-slate-200 dark:border-slate-800 hover:border-primary transition-all hover:shadow-lg dark:hover:bg-slate-800/50"><time class="text-xs text-slate-500 mb-2">Apr 5, 2025</time><h4 class="text-sm font-bold text-slate-900 dark:text-white group-hover:text-primary transition-colors line-clamp-2">Mastering DSAs in Go: The Big-O Guide [Part 1]</h4><p class="mt-2 text-xs text-slate-600 dark:text-slate-400 line-clamp-3"><p>I&rsquo;ve been really enjoying teaching fundamentals in Go, recently. If you â€¦</p></p></a></div></div><footer class="mt-16 pt-8 border-t border-slate-200 dark:border-slate-800"></footer></article></main></div><div id=app></div><script src=/dist/app.js defer></script><script data-goatcounter=https://msahari-blog.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>