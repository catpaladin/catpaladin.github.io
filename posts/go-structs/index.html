<!doctype html><html lang=en-us><head><title>Structs Fundamentals: From Basics to Advanced Usage // It's Go time!</title>
<link rel="shortcut icon" href=images/gopher_favicon.svg><meta charset=utf-8><meta name=generator content="Hugo 0.145.0"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=author content="Mike Sahari"><meta name=description content><link rel=stylesheet href=/css/main.min.b37ba17c9ff2695938f19925e96fb7afaa9d51743ea79f35d668e4e8bacfc19d.css><style>.top-nav{display:flex;align-items:center;justify-content:space-between;padding:12px 24px;background-color:#2c3e50;background-image:linear-gradient(to right,#2c3e50,#4a6785);position:sticky;top:0;z-index:1000;box-shadow:0 2px 8px rgba(0,0,0,.2)}.top-nav-title-link{text-decoration:none;color:inherit;transition:opacity .2s;display:flex;align-items:center;margin-right:auto}.top-nav-title-link:hover{opacity:.85}.top-nav-title{font-weight:700;padding-right:20px;font-size:1.2rem;letter-spacing:.5px;color:#fff;text-shadow:1px 1px 2px rgba(0,0,0,.3)}.top-nav-social{display:flex;align-items:center;margin-right:20px}.top-nav-social a{margin-left:15px;color:#fff;font-size:1.25rem;transition:transform .2s,color .2s}.top-nav-social a:hover{transform:scale(1.15);color:#64b5f6}.menu-container{position:relative;z-index:1000}.menu-button{display:flex;flex-direction:column;justify-content:space-between;width:30px;height:24px;background:0 0;border:none;cursor:pointer;padding:0;transition:transform .2s}.menu-button:hover{transform:scale(1.1)}.menu-button-line{display:block;width:100%;height:3px;background-color:#fff;border-radius:3px;transition:all .3s linear}.menu-button.active .menu-button-line:nth-child(1){transform:translateY(10.5px)rotate(45deg)}.menu-button.active .menu-button-line:nth-child(2){opacity:0}.menu-button.active .menu-button-line:nth-child(3){transform:translateY(-10.5px)rotate(-45deg)}.menu-dropdown{position:absolute;top:35px;right:0;background-color:#2c3e50;border-radius:6px;box-shadow:0 4px 12px rgba(0,0,0,.3);min-width:180px;display:none;padding:10px 0;border-top:3px solid #64b5f6}.menu-dropdown.active{display:block;animation:fadeIn .2s ease-in-out}@keyframes fadeIn{from{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.menu-dropdown a{display:block;padding:10px 20px;text-decoration:none;color:#fff;font-size:1rem;transition:background-color .2s}.menu-dropdown a:hover{background-color:rgba(100,181,246,.2);padding-left:24px}@media(max-width:600px){.top-nav{padding:10px 16px}.top-nav-title{font-size:1rem}.top-nav-social a{margin-left:12px}}</style><meta name=twitter:card content="summary"><meta name=twitter:title content="Structs Fundamentals: From Basics to Advanced Usage"><meta name=twitter:description content="If you‚Äôve been diving into Go programming (or ‚ÄúGolang‚Äù as the cool kids say), you‚Äôve definitely encountered structs. They‚Äôre absolutely fundamental to how we organize and work with data in Go, and mastering them is crucial to writing clean, efficient Go code.
I like to teach about structs, like other fundamentals, because of how powerful structs can be when used properly. Let‚Äôs break down everything you need to know about structs, from the very basics to some advanced patterns I‚Äôve learned the hard way."><meta property="og:url" content="https://blog.mikesahari.com/posts/go-structs/"><meta property="og:site_name" content="It's Go time!"><meta property="og:title" content="Structs Fundamentals: From Basics to Advanced Usage"><meta property="og:description" content="If you‚Äôve been diving into Go programming (or ‚ÄúGolang‚Äù as the cool kids say), you‚Äôve definitely encountered structs. They‚Äôre absolutely fundamental to how we organize and work with data in Go, and mastering them is crucial to writing clean, efficient Go code.
I like to teach about structs, like other fundamentals, because of how powerful structs can be when used properly. Let‚Äôs break down everything you need to know about structs, from the very basics to some advanced patterns I‚Äôve learned the hard way."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2025-03-28T21:45:06-07:00"><meta property="article:modified_time" content="2025-03-28T21:45:06-07:00"><meta property="article:tag" content="Go"><meta property="article:tag" content="Programming"><meta property="article:tag" content="Data-Structures"><meta property="article:tag" content="Fundamentals"></head><body><div id=scroll-indicator-container><div id=scroll-indicator></div></div><div class=top-nav><a href=/ class=top-nav-title-link><span class=top-nav-title>It's Go time!</span></a><div class=top-nav-social><a href=https://linkedin.com/in/mike-sahari target=_blank rel="noreferrer noopener me" aria-label=LinkedIn><svg class="icon icon-brand-linkedin" viewBox="0 0 24 24" fill="currentcolor"><title>LinkedIn</title><path d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853.0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601.0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144.0-2.063-.926-2.063-2.065.0-1.138.92-2.063 2.063-2.063 1.14.0 2.064.925 2.064 2.063.0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225.0H1.771C.792.0.0.774.0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2.0 22.222.0h.003z"/></svg>
</a><a href=https://github.com/catpaladin target=_blank rel="noreferrer noopener me" aria-label=Github><svg class="icon icon-brand-github" viewBox="0 0 24 24" fill="currentcolor"><title>GitHub</title><path d="M12 .297c-6.63.0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577.0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93.0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176.0.0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22.0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22.0 1.606-.015 2.896-.015 3.286.0.315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12"/></svg>
</a><a href=https://mastodon.social/@ineedmorecoffee target=_blank rel="noreferrer noopener me" aria-label=Mastodon><svg class="icon icon-brand-mastodon" viewBox="0 0 24 24" fill="currentcolor"><title>Mastodon</title><path d="M23.268 5.313c-.35-2.578-2.617-4.61-5.304-5.004C17.51.242 15.792.0 11.813.0h-.03c-3.98.0-4.835.242-5.288.309C3.882.692 1.496 2.518.917 5.127.64 6.412.61 7.837.661 9.143c.074 1.874.088 3.745.26 5.611.118 1.24.325 2.47.62 3.68.55 2.237 2.777 4.098 4.96 4.857 2.336.792 4.849.923 7.256.38.265-.061.527-.132.786-.213.585-.184 1.27-.39 1.774-.753a.057.057.0 00.023-.043v-1.809a.052.052.0 00-.02-.041.053.053.0 00-.046-.01 20.282 20.282.0 01-4.709.545c-2.73.0-3.463-1.284-3.674-1.818a5.593 5.593.0 01-.319-1.433.053.053.0 01.066-.054c1.517.363 3.072.546 4.632.546.376.0.75.0 1.125-.01 1.57-.044 3.224-.124 4.768-.422.038-.008.077-.015.11-.024 2.435-.464 4.753-1.92 4.989-5.604.008-.145.03-1.52.03-1.67.002-.512.167-3.63-.024-5.545zm-3.748 9.195h-2.561V8.29c0-1.309-.55-1.976-1.67-1.976-1.23.0-1.846.79-1.846 2.35v3.403h-2.546V8.663c0-1.56-.617-2.35-1.848-2.35-1.112.0-1.668.668-1.67 1.977v6.218H4.822V8.102c0-1.31.337-2.35 1.011-3.12.696-.77 1.608-1.164 2.74-1.164 1.311.0 2.302.5 2.962 1.498l.638 1.06.638-1.06c.66-.999 1.65-1.498 2.96-1.498 1.13.0 2.043.395 2.74 1.164.675.77 1.012 1.81 1.012 3.12z"/></svg>
</a><a href=https://bsky.app/profile/msahari.bsky.social target=_blank rel="noreferrer noopener me" aria-label=Bluesky><svg class="icon icon-brand-bluesky" viewBox="0 0 24 24" fill="currentcolor"><title>Bluesky</title><path d="M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908.0 3.08.0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741.0 01-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478.0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8z"/></svg></a></div><div class=menu-container><button class=menu-button aria-label="Toggle menu">
<span class=menu-button-line></span>
<span class=menu-button-line></span>
<span class=menu-button-line></span></button><div class=menu-dropdown><a href=/>Blogs</a>
<a href=/tags/>Tags</a>
<a href=/about/>About</a>
<a href=/index.xml>RSS</a></div></div></div><main class=app-container><article class=post><header class=post-header><h1 class=post-title>Structs Fundamentals: From Basics to Advanced Usage</h1><div class=post-meta><div><svg class="icon icon-calendar" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>calendar</title><rect x="3" y="4" width="18" height="18" rx="2" ry="2"/><line x1="16" y1="2" x2="16" y2="6"/><line x1="8" y1="2" x2="8" y2="6"/><line x1="3" y1="10" x2="21" y2="10"/></svg>
Mar 28, 2025</div><div><svg class="icon icon-clock" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>clock</title><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>
10 min read</div><div><svg class="icon icon-tag" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><title>tag</title><path d="M20.59 13.41l-7.17 7.17a2 2 0 01-2.83.0L2 12V2h10l8.59 8.59a2 2 0 010 2.82z"/><line x1="7" y1="7" x2="7.01" y2="7"/></svg>
<a class=tag href=/tags/go/>Go</a>
<a class=tag href=/tags/programming/>Programming</a>
<a class=tag href=/tags/data-structures/>Data-Structures</a>
<a class=tag href=/tags/fundamentals/>Fundamentals</a></div></div></header><br><div class=post-featured-image><img src=/images/gophers/go-learn.svg alt="Structs Fundamentals: From Basics to Advanced Usage"></div><br><div class=post-toc><div class=post-toc-title>Table of Contents</div><div class=post-toc-content><nav id=TableOfContents><ul><li><a href=#what-are-structs-in-go>What Are Structs in Go?</a></li><li><a href=#setting-up-a-go-project-with-structs>Setting Up a Go Project with Structs</a></li><li><a href=#basic-usage-of-structs>Basic Usage of Structs</a><ul><li><a href=#declaring-and-initializing-structs>Declaring and Initializing Structs</a></li><li><a href=#accessing-and-modifying-struct-fields>Accessing and Modifying Struct Fields</a></li><li><a href=#nested-structs>Nested Structs</a></li></ul></li><li><a href=#advanced-struct-techniques>Advanced Struct Techniques</a><ul><li><a href=#struct-embedding-and-composition>Struct Embedding and Composition</a></li><li><a href=#adding-methods-to-structs>Adding Methods to Structs</a></li></ul></li><li><a href=#event-sourcing-with-structs>Event Sourcing with Structs</a></li><li><a href=#wrapping-up>Wrapping Up</a></li><li><a href=#references>References</a></li></ul></nav></div></div><style>.post-toc{background-color:#f9f9f9;border:1px solid #ddd;border-radius:8px;padding:15px;margin:20px 0}.post-toc-title{font-weight:700;margin-bottom:10px;color:#00b0ff;font-size:1.2em}.post-toc-content ul{list-style-type:none;padding-left:15px}.post-toc-content ul li{margin-bottom:8px}.post-toc-content ul li a{text-decoration:none;color:#263238;transition:color .2s}.post-toc-content ul li a:hover{color:#00b0ff}@media(prefers-color-scheme:dark){.post-toc{background-color:#263238;border-color:#253031}.post-toc-content ul li a{color:#afbac4}}</style><div class=post-content><p>If you&rsquo;ve been diving into Go programming (or &ldquo;Golang&rdquo; as the cool kids say), you&rsquo;ve definitely encountered structs. They&rsquo;re absolutely fundamental to how we organize and work with data in Go, and mastering them is crucial to writing clean, efficient Go code.</p><p>I like to teach about structs, like other fundamentals, because of how powerful structs can be when used properly. Let&rsquo;s break down everything you need to know about structs, from the very basics to some advanced patterns I&rsquo;ve learned the hard way.</p><h2 id=what-are-structs-in-go>What Are Structs in Go?</h2><p><img src=/images/2025/03/20250329-meme1.png alt="your powers combined"></p><p>At their core, structs in Go are composite data types that group together variables (called fields) under a single name. If you&rsquo;re coming from object-oriented languages, you might think of them as similar to classes, but with some key differences that make Go&mldr; well, Go!</p><style>.admonition{border-radius:5px;padding:0;border-left:5px solid #00bcf6;box-shadow:0 0 .5rem .2rem #00000025}.admonition-title-container{background-color:#00bcf6;border-top-right-radius:5px}.admonition-title{font-weight:bolder;font-size:large;backdrop-filter:grayscale(50%)brightness(150%);-webkit-backdrop-filter:grayscale(50%)brightness(150%);padding:5px 0 5px 30px;border-top-right-radius:5px}@media(prefers-color-scheme:dark){.admonition-title{backdrop-filter:grayscale(40%)brightness(40%);-webkit-backdrop-filter:grayscale(40%)brightness(40%)}}.admonition-content{padding:10px 0 10px 15px}</style><div class=admonition style="border-left:5px solid #283593"><div class=admonition-title-container style=background-color:#283593><div class=admonition-title>üìù Note</div></div><div class=admonition-content>Unlike classes in OOP languages, Go structs don&rsquo;t support inheritance. This is by design - Go favors composition over inheritance, which leads to more straightforward, less entangled code.</div></div><p>Let&rsquo;s visualize the basic concept of a struct:</p><pre class=mermaid>graph TD
    A[&#34;Struct: Person&#34;] --&gt; B[&#34;Field: Name (string)&#34;]
    A --&gt; C[&#34;Field: Age (int)&#34;]
    A --&gt; D[&#34;Field: Address (string)&#34;]
    style A fill:#BB2528,color:#fff
    style B fill:#006100,color:#fff
    style C fill:#006100,color:#fff
    style D fill:#006100,color:#fff
</pre><p>In Go, structs serve several important purposes:</p><ul><li>Grouping related data together</li><li>Creating custom types</li><li>Implementing interfaces</li><li>Enabling method attachment</li><li>Providing encapsulation</li></ul><h2 id=setting-up-a-go-project-with-structs>Setting Up a Go Project with Structs</h2><p>Let&rsquo;s start by setting up a simple Go project where we&rsquo;ll explore structs. First, create a new directory and initialize a Go module:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>mkdir go-structs-tutorial
</span></span><span style=display:flex><span>cd go-structs-tutorial
</span></span><span style=display:flex><span>go mod init github.com/yourusername/go-structs-tutorial
</span></span></code></pre></div><p>Now, let&rsquo;s create our first file with a basic struct example:</p><p><code>main.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Person is a struct that represents a human</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Name</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Age</span>     <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Address</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Creating a new Person</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>p</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Person</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>:    <span style=color:#e6db74>&#34;John Doe&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Age</span>:     <span style=color:#ae81ff>30</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Address</span>: <span style=color:#e6db74>&#34;123 Main St&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Person:&#34;</span>, <span style=color:#a6e22e>p</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>Run the code with:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>go run main.go
</span></span></code></pre></div><p>And you should see output like:</p><pre tabindex=0><code>Person: {John Doe 30 123 Main St}
</code></pre><h2 id=basic-usage-of-structs>Basic Usage of Structs</h2><p>Now that we understand what structs are, let&rsquo;s explore some common ways to use them.</p><h3 id=declaring-and-initializing-structs>Declaring and Initializing Structs</h3><p>There are several ways to create structs in Go:</p><p><code>examples/initialization.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Employee</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>        <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>FirstName</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>LastName</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Role</span>      <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Method 1: Specify all fields in order</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp1</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Employee</span>{<span style=color:#ae81ff>1</span>, <span style=color:#e6db74>&#34;Jacob&#34;</span>, <span style=color:#e6db74>&#34;Strawberry&#34;</span>, <span style=color:#e6db74>&#34;Developer&#34;</span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Method 2: Use field names (recommended for clarity)</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp2</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Employee</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:        <span style=color:#ae81ff>2</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>FirstName</span>: <span style=color:#e6db74>&#34;Theo&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>LastName</span>:  <span style=color:#e6db74>&#34;Mahindra&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Role</span>:      <span style=color:#e6db74>&#34;SRE&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Method 3: Create an empty struct and assign fields later</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>var</span> <span style=color:#a6e22e>emp3</span> <span style=color:#a6e22e>Employee</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp3</span>.<span style=color:#a6e22e>ID</span> = <span style=color:#ae81ff>3</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp3</span>.<span style=color:#a6e22e>FirstName</span> = <span style=color:#e6db74>&#34;Michael&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp3</span>.<span style=color:#a6e22e>LastName</span> = <span style=color:#e6db74>&#34;Michaelson&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp3</span>.<span style=color:#a6e22e>Role</span> = <span style=color:#e6db74>&#34;Manager&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Method 4: Using the new() function (returns a pointer)</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp4</span> <span style=color:#f92672>:=</span> new(<span style=color:#a6e22e>Employee</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp4</span>.<span style=color:#a6e22e>ID</span> = <span style=color:#ae81ff>4</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp4</span>.<span style=color:#a6e22e>FirstName</span> = <span style=color:#e6db74>&#34;Sarah&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp4</span>.<span style=color:#a6e22e>LastName</span> = <span style=color:#e6db74>&#34;Conner&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>emp4</span>.<span style=color:#a6e22e>Role</span> = <span style=color:#e6db74>&#34;Director&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Employee 1:&#34;</span>, <span style=color:#a6e22e>emp1</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Employee 2:&#34;</span>, <span style=color:#a6e22e>emp2</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Employee 3:&#34;</span>, <span style=color:#a6e22e>emp3</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Employee 4:&#34;</span>, <span style=color:#f92672>*</span><span style=color:#a6e22e>emp4</span>) <span style=color:#75715e>// Dereference the pointer</span>
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p><img src=/images/2025/03/20250329-meme2.png alt="but which way"></p><div class=admonition style="border-left:5px solid #004d40"><div class=admonition-title-container style=background-color:#004d40><div class=admonition-title>üí° Tip</div></div><div class=admonition-content>Always use the field-name syntax when initializing structs with many fields. It makes your code more readable and protects against errors when struct definitions change.</div></div><h3 id=accessing-and-modifying-struct-fields>Accessing and Modifying Struct Fields</h3><p>Accessing struct fields is straightforward using the dot notation:</p><p><code>examples/accessing.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Product</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>       <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Name</span>     <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Price</span>    <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>InStock</span>  <span style=color:#66d9ef>bool</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Quantity</span> <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>product</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Product</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:       <span style=color:#e6db74>&#34;p123&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>:     <span style=color:#e6db74>&#34;Mechanical Keyboard&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Price</span>:    <span style=color:#ae81ff>149.99</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>InStock</span>:  <span style=color:#66d9ef>true</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Quantity</span>: <span style=color:#ae81ff>10</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Accessing fields</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Product Name:&#34;</span>, <span style=color:#a6e22e>product</span>.<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Price:&#34;</span>, <span style=color:#a6e22e>product</span>.<span style=color:#a6e22e>Price</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Modifying fields</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>product</span>.<span style=color:#a6e22e>Price</span> = <span style=color:#ae81ff>129.99</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>product</span>.<span style=color:#a6e22e>Quantity</span> = <span style=color:#ae81ff>8</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Updated Product:&#34;</span>, <span style=color:#a6e22e>product</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h3 id=nested-structs>Nested Structs</h3><p>Structs can be embedded within other structs, allowing for complex data structures:</p><p><code>examples/nested.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Address</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Street</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>City</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>State</span>   <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ZipCode</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Country</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Contact</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Email</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Phone</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Customer</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>      <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Name</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Address</span> <span style=color:#a6e22e>Address</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Contact</span> <span style=color:#a6e22e>Contact</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>customer</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Customer</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:   <span style=color:#ae81ff>1001</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Name</span>: <span style=color:#e6db74>&#34;Alice Wonderlund&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Address</span>: <span style=color:#a6e22e>Address</span>{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Street</span>:  <span style=color:#e6db74>&#34;456 Park Ave&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>City</span>:    <span style=color:#e6db74>&#34;New York&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>State</span>:   <span style=color:#e6db74>&#34;NY&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>ZipCode</span>: <span style=color:#e6db74>&#34;10022&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Country</span>: <span style=color:#e6db74>&#34;USA&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Contact</span>: <span style=color:#a6e22e>Contact</span>{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Email</span>: <span style=color:#e6db74>&#34;alice@example.com&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>Phone</span>: <span style=color:#e6db74>&#34;212-867-5309&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Customer:&#34;</span>, <span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>Name</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Lives in:&#34;</span>, <span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>Address</span>.<span style=color:#a6e22e>City</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Contact via:&#34;</span>, <span style=color:#a6e22e>customer</span>.<span style=color:#a6e22e>Contact</span>.<span style=color:#a6e22e>Email</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><h2 id=advanced-struct-techniques>Advanced Struct Techniques</h2><p>Now let&rsquo;s flex with some more intermediate to advanced concepts that make structs in Go truly powerful.</p><h3 id=struct-embedding-and-composition>Struct Embedding and Composition</h3><p>Go promotes composition over inheritance, and struct embedding is one of the main tools for this:</p><p><code>examples/embedding.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Entity</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>        <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>CreatedAt</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>UpdatedAt</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// User embeds Entity</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>User</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Entity</span>              <span style=color:#75715e>// Embedded struct (anonymous field)</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Username</span>     <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Email</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>PasswordHash</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Post embeds Entity</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Post</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Entity</span>           <span style=color:#75715e>// Same embedded struct</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Title</span>      <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Content</span>    <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>AuthorID</span>   <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>user</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>User</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Entity</span>: <span style=color:#a6e22e>Entity</span>{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>ID</span>:        <span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>CreatedAt</span>: <span style=color:#e6db74>&#34;2025-03-26T10:00:00Z&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>UpdatedAt</span>: <span style=color:#e6db74>&#34;2025-03-26T10:00:00Z&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Username</span>:     <span style=color:#e6db74>&#34;gopher&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Email</span>:        <span style=color:#e6db74>&#34;gopher@golang.org&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>PasswordHash</span>: <span style=color:#e6db74>&#34;hash123&#34;</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Direct access to embedded fields</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;User ID:&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>ID</span>) <span style=color:#75715e>// Not user.Entity.ID</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Username:&#34;</span>, <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>Username</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>post</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Post</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Entity</span>: <span style=color:#a6e22e>Entity</span>{
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>ID</span>:        <span style=color:#ae81ff>101</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>CreatedAt</span>: <span style=color:#e6db74>&#34;2025-03-26T11:30:00Z&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>UpdatedAt</span>: <span style=color:#e6db74>&#34;2025-03-26T11:30:00Z&#34;</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Title</span>:    <span style=color:#e6db74>&#34;Understanding Go Structs&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Content</span>:  <span style=color:#e6db74>&#34;Go structs are awesome...&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>AuthorID</span>: <span style=color:#a6e22e>user</span>.<span style=color:#a6e22e>ID</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Post Title:&#34;</span>, <span style=color:#a6e22e>post</span>.<span style=color:#a6e22e>Title</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Created At:&#34;</span>, <span style=color:#a6e22e>post</span>.<span style=color:#a6e22e>CreatedAt</span>)
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><div class=admonition style="border-left:5px solid #01579b"><div class=admonition-title-container style=background-color:#01579b><div class=admonition-title>üìå Important</div></div><div class=admonition-content>With embedded structs, the fields of the embedded struct become &ldquo;promoted&rdquo; to the outer struct, allowing direct access. This is a powerful feature for building composable types in Go.</div></div><h3 id=adding-methods-to-structs>Adding Methods to Structs</h3><p>One of the most powerful features of structs is the ability to attach methods to them:</p><p><code>examples/methods.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;strings&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Rectangle</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Width</span>  <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Height</span> <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Area is a method of Rectangle</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#a6e22e>Rectangle</span>) <span style=color:#a6e22e>Area</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Width</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Height</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Perimeter is a method of Rectangle</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#a6e22e>Rectangle</span>) <span style=color:#a6e22e>Perimeter</span>() <span style=color:#66d9ef>float64</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#ae81ff>2</span> <span style=color:#f92672>*</span> (<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Width</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Height</span>)
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Scale modifies the receiver</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>r</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Rectangle</span>) <span style=color:#a6e22e>Scale</span>(<span style=color:#a6e22e>factor</span> <span style=color:#66d9ef>float64</span>) {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Width</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>factor</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>r</span>.<span style=color:#a6e22e>Height</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>factor</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Person</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>FirstName</span> <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>LastName</span>  <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Age</span>       <span style=color:#66d9ef>int</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// FullName returns the person&#39;s full name</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#a6e22e>Person</span>) <span style=color:#a6e22e>FullName</span>() <span style=color:#66d9ef>string</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>FirstName</span> <span style=color:#f92672>+</span> <span style=color:#e6db74>&#34; &#34;</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>LastName</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// IsAdult checks if the person is an adult</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>p</span> <span style=color:#a6e22e>Person</span>) <span style=color:#a6e22e>IsAdult</span>() <span style=color:#66d9ef>bool</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>Age</span> <span style=color:#f92672>&gt;=</span> <span style=color:#ae81ff>18</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rect</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Rectangle</span>{<span style=color:#a6e22e>Width</span>: <span style=color:#ae81ff>10</span>, <span style=color:#a6e22e>Height</span>: <span style=color:#ae81ff>5</span>}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Rectangle: %+v\n&#34;</span>, <span style=color:#a6e22e>rect</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Area:&#34;</span>, <span style=color:#a6e22e>rect</span>.<span style=color:#a6e22e>Area</span>())
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Perimeter:&#34;</span>, <span style=color:#a6e22e>rect</span>.<span style=color:#a6e22e>Perimeter</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>rect</span>.<span style=color:#a6e22e>Scale</span>(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;After scaling: %+v\n&#34;</span>, <span style=color:#a6e22e>rect</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;New area:&#34;</span>, <span style=color:#a6e22e>rect</span>.<span style=color:#a6e22e>Area</span>())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>person</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>Person</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>FirstName</span>: <span style=color:#e6db74>&#34;Go&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>LastName</span>:  <span style=color:#e6db74>&#34;Gopher&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Age</span>:       <span style=color:#ae81ff>13</span>,
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Name:&#34;</span>, <span style=color:#a6e22e>person</span>.<span style=color:#a6e22e>FullName</span>())
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Is adult:&#34;</span>, <span style=color:#a6e22e>person</span>.<span style=color:#a6e22e>IsAdult</span>())
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>The difference between value receivers and pointer receivers is crucial to understand:</p><pre class=mermaid>graph TD
    A[&#34;Method Receivers in Go&#34;] --&gt; B[&#34;Value Receiver: func (r Rectangle) Area()&#34;]
    A --&gt; C[&#34;Pointer Receiver: func (r *Rectangle) Scale()&#34;]
    B --&gt; D[&#34;Receives a copy of the struct&lt;br&gt;Cannot modify the original struct&lt;br&gt;Good for read-only operations&#34;]
    C --&gt; E[&#34;Receives a pointer to the struct&lt;br&gt;Can modify the original struct&lt;br&gt;More efficient for large structs&#34;]
    style A fill:#BB2528,color:#fff
    style B fill:#006100,color:#fff
    style C fill:#006100,color:#fff
    style D fill:#1f2020,color:#ddd
    style E fill:#1f2020,color:#ddd
</pre><div class=admonition style="border-left:5px solid #004d40"><div class=admonition-title-container style=background-color:#004d40><div class=admonition-title>üí° Tip</div></div><div class=admonition-content>Use pointer receivers when you need to modify the struct or when the struct is large to avoid copying. Use value receivers for immutable operations on smaller structs.</div></div><p>Another diagram to visualize this would be:</p><pre class=mermaid>graph TD
    subgraph &#34;Go Method Receivers&#34;
        direction TB

        subgraph &#34;Value Receiver: func (r Rectangle) Area() float64&#34;
            direction TB
            A1[Original Rectangle&lt;br&gt;Width: 10&lt;br&gt;Height: 5] --&gt; |&#34;Call Area()&#34;| B1[Copy created&lt;br&gt;Width: 10&lt;br&gt;Height: 5]
            B1 --&gt; |&#34;Calculate&lt;br&gt;10 √ó 5&#34;| C1[Return 50]
            A1 --&gt; |&#34;After method call&#34;| D1[Original unchanged&lt;br&gt;Width: 10&lt;br&gt;Height: 5]

            style A1 fill:#00ADD8,color:#fff,stroke:#0078A0,stroke-width:2px
            style B1 fill:#5DC9A3,color:#fff,stroke:#3DAD83,stroke-width:2px
            style C1 fill:#F9A825,color:#fff,stroke:#F57F17,stroke-width:2px
            style D1 fill:#00ADD8,color:#fff,stroke:#0078A0,stroke-width:2px
        end

        subgraph &#34;Pointer Receiver: func (r *Rectangle) Scale(factor float64)&#34;
            direction TB
            A2[Original Rectangle&lt;br&gt;Width: 10&lt;br&gt;Height: 5] --&gt; |&#34;Call Scale(2)&#34;| B2[Pointer to original&lt;br&gt;*Rectangle]
            B2 --&gt; |&#34;Modify through pointer&lt;br&gt;Width = 10 √ó 2&lt;br&gt;Height = 5 √ó 2&#34;| C2[Original modified]
            C2 --&gt; D2[Rectangle after Scale&lt;br&gt;Width: 20&lt;br&gt;Height: 10]

            style A2 fill:#00ADD8,color:#fff,stroke:#0078A0,stroke-width:2px
            style B2 fill:#9C27B0,color:#fff,stroke:#7B1FA2,stroke-width:2px
            style C2 fill:#E53935,color:#fff,stroke:#C62828,stroke-width:2px
            style D2 fill:#00ADD8,color:#fff,stroke:#0078A0,stroke-width:2px
        end
    end

    classDef default font-size:14px,font-family:Arial;
</pre><h2 id=event-sourcing-with-structs>Event Sourcing with Structs</h2><p>Let&rsquo;s build a more complex example to demonstrate the power of structs in a real-world scenario (or perhaps a coding exam).
For example, you get tasked to build a banking system. It must handle opening an account, depositing money, and withdrawing money.
We&rsquo;ll implement a simple event sourcing system for the bank system here:</p><p><code>examples/event_sourcing.go</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=display:flex><span><span style=color:#f92672>package</span> <span style=color:#a6e22e>main</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#f92672>import</span> (
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;errors&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;fmt&#34;</span>
</span></span><span style=display:flex><span>	<span style=color:#e6db74>&#34;time&#34;</span>
</span></span><span style=display:flex><span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Event represents a domain event</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Event</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>        <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Type</span>      <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Timestamp</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Time</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Data</span>      <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Account represents a bank account</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>type</span> <span style=color:#a6e22e>Account</span> <span style=color:#66d9ef>struct</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>ID</span>            <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Owner</span>         <span style=color:#66d9ef>string</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Balance</span>       <span style=color:#66d9ef>float64</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>OpenedAt</span>      <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Time</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>Events</span>        []<span style=color:#a6e22e>Event</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>EventHandlers</span> <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// NewAccount creates a new account</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>NewAccount</span>(<span style=color:#a6e22e>id</span>, <span style=color:#a6e22e>owner</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>initialBalance</span> <span style=color:#66d9ef>float64</span>) <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>now</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>()
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Account</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:       <span style=color:#a6e22e>id</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Owner</span>:    <span style=color:#a6e22e>owner</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Balance</span>:  <span style=color:#ae81ff>0</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>OpenedAt</span>: <span style=color:#a6e22e>now</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Events</span>:   []<span style=color:#a6e22e>Event</span>{},
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>EventHandlers</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span>{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;account_opened&#34;</span>:  <span style=color:#a6e22e>handleAccountOpened</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;money_deposited&#34;</span>: <span style=color:#a6e22e>handleMoneyDeposited</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;money_withdrawn&#34;</span>: <span style=color:#a6e22e>handleMoneyWithdrawn</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Create and apply the account_opened event</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>ApplyEvent</span>(<span style=color:#a6e22e>Event</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%s-1&#34;</span>, <span style=color:#a6e22e>id</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Type</span>:      <span style=color:#e6db74>&#34;account_opened&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Timestamp</span>: <span style=color:#a6e22e>now</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Data</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;owner&#34;</span>:           <span style=color:#a6e22e>owner</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;initial_balance&#34;</span>: <span style=color:#a6e22e>initialBalance</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>account</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// ApplyEvent applies an event to the account</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>ApplyEvent</span>(<span style=color:#a6e22e>event</span> <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>handlerFunc</span>, <span style=color:#a6e22e>exists</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>EventHandlers</span>[<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>Type</span>]
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>exists</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;unknown event type&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>handlerFunc</span>(<span style=color:#a6e22e>a</span>, <span style=color:#a6e22e>event</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Store the event</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Events</span> = append(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Events</span>, <span style=color:#a6e22e>event</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Deposit adds money to the account</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>Deposit</span>(<span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>float64</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>amount</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;deposit amount must be positive&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>ApplyEvent</span>(<span style=color:#a6e22e>Event</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%s-%d&#34;</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>ID</span>, len(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Events</span>)<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Type</span>:      <span style=color:#e6db74>&#34;money_deposited&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Timestamp</span>: <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>(),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Data</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;amount&#34;</span>: <span style=color:#a6e22e>amount</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Withdraw removes money from the account</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> (<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>) <span style=color:#a6e22e>Withdraw</span>(<span style=color:#a6e22e>amount</span> <span style=color:#66d9ef>float64</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>amount</span> <span style=color:#f92672>&lt;=</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;withdrawal amount must be positive&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Balance</span> &lt; <span style=color:#a6e22e>amount</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;insufficient funds&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>ApplyEvent</span>(<span style=color:#a6e22e>Event</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>:        <span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Sprintf</span>(<span style=color:#e6db74>&#34;%s-%d&#34;</span>, <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>ID</span>, len(<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Events</span>)<span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Type</span>:      <span style=color:#e6db74>&#34;money_withdrawn&#34;</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Timestamp</span>: <span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>Now</span>(),
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>Data</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>interface</span>{}{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;amount&#34;</span>: <span style=color:#a6e22e>amount</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	})
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Event handlers</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleAccountOpened</span>(<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#a6e22e>e</span> <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Owner</span> = <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Data</span>[<span style=color:#e6db74>&#34;owner&#34;</span>].(<span style=color:#66d9ef>string</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Balance</span> = <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Data</span>[<span style=color:#e6db74>&#34;initial_balance&#34;</span>].(<span style=color:#66d9ef>float64</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleMoneyDeposited</span>(<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#a6e22e>e</span> <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>amount</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Data</span>[<span style=color:#e6db74>&#34;amount&#34;</span>].(<span style=color:#66d9ef>float64</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Balance</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>amount</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>handleMoneyWithdrawn</span>(<span style=color:#a6e22e>a</span> <span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#a6e22e>e</span> <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span> {
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>amount</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>e</span>.<span style=color:#a6e22e>Data</span>[<span style=color:#e6db74>&#34;amount&#34;</span>].(<span style=color:#66d9ef>float64</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Balance</span> &lt; <span style=color:#a6e22e>amount</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;insufficient funds&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>a</span>.<span style=color:#a6e22e>Balance</span> <span style=color:#f92672>-=</span> <span style=color:#a6e22e>amount</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// Reconstruct rebuilds the account state from events</span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>ReconstructAccount</span>(<span style=color:#a6e22e>id</span> <span style=color:#66d9ef>string</span>, <span style=color:#a6e22e>events</span> []<span style=color:#a6e22e>Event</span>) (<span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#66d9ef>error</span>) {
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> len(<span style=color:#a6e22e>events</span>) <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span> {
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;no events to reconstruct from&#34;</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Create a blank account</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#f92672>&amp;</span><span style=color:#a6e22e>Account</span>{
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>ID</span>: <span style=color:#a6e22e>id</span>,
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>EventHandlers</span>: <span style=color:#66d9ef>map</span>[<span style=color:#66d9ef>string</span>]<span style=color:#66d9ef>func</span>(<span style=color:#f92672>*</span><span style=color:#a6e22e>Account</span>, <span style=color:#a6e22e>Event</span>) <span style=color:#66d9ef>error</span>{
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;account_opened&#34;</span>:  <span style=color:#a6e22e>handleAccountOpened</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;money_deposited&#34;</span>: <span style=color:#a6e22e>handleMoneyDeposited</span>,
</span></span><span style=display:flex><span>			<span style=color:#e6db74>&#34;money_withdrawn&#34;</span>: <span style=color:#a6e22e>handleMoneyWithdrawn</span>,
</span></span><span style=display:flex><span>		},
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Apply all events</span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>_</span>, <span style=color:#a6e22e>event</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>events</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>handlerFunc</span>, <span style=color:#a6e22e>exists</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>EventHandlers</span>[<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>Type</span>]
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> !<span style=color:#a6e22e>exists</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>errors</span>.<span style=color:#a6e22e>New</span>(<span style=color:#e6db74>&#34;unknown event type&#34;</span>)
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>handlerFunc</span>(<span style=color:#a6e22e>account</span>, <span style=color:#a6e22e>event</span>); <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>			<span style=color:#66d9ef>return</span> <span style=color:#66d9ef>nil</span>, <span style=color:#a6e22e>err</span>
</span></span><span style=display:flex><span>		}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Events</span> = append(<span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Events</span>, <span style=color:#a6e22e>event</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>account</span>, <span style=color:#66d9ef>nil</span>
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>func</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Create a new account</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>account</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>NewAccount</span>(<span style=color:#e6db74>&#34;acc123&#34;</span>, <span style=color:#e6db74>&#34;John Doe&#34;</span>, <span style=color:#ae81ff>1000.00</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Account created: %+v\n&#34;</span>, <span style=color:#a6e22e>account</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Deposit some $$</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Deposit</span>(<span style=color:#ae81ff>500.00</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Error:&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Now withdraw some $$</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>err</span> = <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Withdraw</span>(<span style=color:#ae81ff>200.00</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Error:&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Final account state: %+v\n&#34;</span>, <span style=color:#a6e22e>account</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Balance:&#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Balance</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Number of events:&#34;</span>, len(<span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Events</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Show event history</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;\nEvent History:&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>for</span> <span style=color:#a6e22e>i</span>, <span style=color:#a6e22e>event</span> <span style=color:#f92672>:=</span> <span style=color:#66d9ef>range</span> <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Events</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;%d: [%s] %s at %s\n&#34;</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>i</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>Type</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>ID</span>,
</span></span><span style=display:flex><span>			<span style=color:#a6e22e>event</span>.<span style=color:#a6e22e>Timestamp</span>.<span style=color:#a6e22e>Format</span>(<span style=color:#a6e22e>time</span>.<span style=color:#a6e22e>RFC3339</span>),
</span></span><span style=display:flex><span>		)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>	<span style=color:#75715e>// Demonstrate reconstruction</span>
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;\nReconstructing account from events...&#34;</span>)
</span></span><span style=display:flex><span>	<span style=color:#a6e22e>reconstructedAccount</span>, <span style=color:#a6e22e>err</span> <span style=color:#f92672>:=</span> <span style=color:#a6e22e>ReconstructAccount</span>(<span style=color:#e6db74>&#34;acc123&#34;</span>, <span style=color:#a6e22e>account</span>.<span style=color:#a6e22e>Events</span>)
</span></span><span style=display:flex><span>	<span style=color:#66d9ef>if</span> <span style=color:#a6e22e>err</span> <span style=color:#f92672>!=</span> <span style=color:#66d9ef>nil</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Error:&#34;</span>, <span style=color:#a6e22e>err</span>)
</span></span><span style=display:flex><span>	} <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Printf</span>(<span style=color:#e6db74>&#34;Reconstructed account: %+v\n&#34;</span>, <span style=color:#a6e22e>reconstructedAccount</span>)
</span></span><span style=display:flex><span>		<span style=color:#a6e22e>fmt</span>.<span style=color:#a6e22e>Println</span>(<span style=color:#e6db74>&#34;Reconstructed balance:&#34;</span>, <span style=color:#a6e22e>reconstructedAccount</span>.<span style=color:#a6e22e>Balance</span>)
</span></span><span style=display:flex><span>	}
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>This example demonstrates some powerful features of Go structs:</p><ul><li>Composition of different data types</li><li>Method receivers to implement behavior</li><li>Using maps to store function handlers</li><li>Complex business logic using structs</li></ul><p>The event sourcing pattern is perfect for showing how structs can model both data and behavior in Go applications.</p><h2 id=wrapping-up>Wrapping Up</h2><p>Structs are one of Go&rsquo;s most fundamental and powerful features. They provide a clean, efficient way to structure your data and implement behavior in Go applications.</p><p>We&rsquo;ve covered:</p><ul><li>Basic struct definition and initialization</li><li>Accessing and modifying struct fields</li><li>Nested and embedded structs</li><li>Adding methods to structs</li><li>Advanced patterns with a real-world example</li></ul><p>Remember, in Go, composition is favored over inheritance, and structs are the primary tool for composition. Mastering structs will take your Go programming to the next level.</p><div class=admonition style="border-left:5px solid #283593"><div class=admonition-title-container style=background-color:#283593><div class=admonition-title>üìù Note</div></div><div class=admonition-content>While structs are incredibly powerful, they&rsquo;re just one part of Go&rsquo;s type system. Interfaces work hand-in-hand with structs to create flexible, decoupled code. Consider exploring interfaces as your next step in mastering Go.</div></div><h2 id=references>References</h2><ul><li><a href=https://golang.org/doc/effective_go.html#structs>Go Documentation - Structs</a></li><li><a href=https://tour.golang.org/moretypes/2>Go Tour - Structs</a></li><li><a href=https://gobyexample.com/structs>Go by Example: Structs</a></li><li><a href=https://golang.org/ref/spec>The Go Programming Language Specification</a></li></ul></div><div class=post-footer></div></article></main><script>document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector(".menu-button"),t=document.querySelector(".menu-dropdown");e&&t&&(e.addEventListener("click",function(){e.classList.toggle("active"),t.classList.toggle("active")}),document.addEventListener("click",function(n){!e.contains(n.target)&&!t.contains(n.target)&&(e.classList.remove("active"),t.classList.remove("active"))}));const s=document.getElementById("scroll-indicator");function n(){const e=document.body.scrollTop||document.documentElement.scrollTop,t=document.documentElement.scrollHeight-document.documentElement.clientHeight,n=e/t*100;s.style.width=n+"%"}window.addEventListener("scroll",n),n()})</script><script type=module>
      import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.esm.min.mjs';
      mermaid.initialize({
        startOnLoad: true,
        theme: 'dark',  
        securityLevel: 'loose',
        
        themeVariables: {
          
          primaryColor: '#BB2528',
          primaryTextColor: '#fff',
          primaryBorderColor: '#7C0000',

          
          secondaryColor: '#006100',
          secondaryTextColor: '#fff',
          secondaryBorderColor: '#004d00',

          
          mainBkg: '#1f2020',
          textColor: '#ddd',
          lineColor: '#999',

          
          nodeBorder: '#777',
          titleColor: '#F8F8F8'
        }
      });
    </script><script data-goatcounter=https://msahari-blog.goatcounter.com/count async src=//gc.zgo.at/count.js></script></body></html>